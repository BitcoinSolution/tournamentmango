(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/Users/seiyria/GitHub/openchallenge/src/js/_init.js":[function(require,module,exports){
'use strict';

require('./constants/firebaseURL');

require('./services/userStatus');

require('./services/ensureLoggedIn');

require('./services/sidebarManagement');

require('./services/disconnectNotifier');

require('./services/toaster');

require('./services/filterUtils');

require('./services/auth');

require('./services/currentEvents');

require('./services/currentTournaments');

require('./services/userManagement');

require('./services/eventManagement');

require('./services/tournamentManagement');

require('./services/setManagement');

require('./services/inputPrompt');

require('./services/selectPrompt');

require('./services/sharePrompt');

require('./services/shareManagement');

require('./controllers/rootCtrl');

require('./controllers/navCtrl');

require('./controllers/homeCtrl');

require('./controllers/userManageCtrl');

require('./controllers/tournamentManageCtrl');

require('./controllers/eventManageCtrl');

require('./controllers/userSettingsCtrl');

require('./controllers/tournamentSidebarCtrl');

require('./controllers/dialogs/userDialogCtrl');

require('./controllers/dialogs/eventDialogCtrl');

require('./controllers/dialogs/tournamentDialogCtrl');

require('./controllers/dialogs/inputPromptCtrl');

require('./controllers/dialogs/sharePromptCtrl');

require('./controllers/dialogs/selectPromptCtrl');

require('./routes');

},{"./constants/firebaseURL":"/Users/seiyria/GitHub/openchallenge/src/js/constants/firebaseURL.js","./controllers/dialogs/eventDialogCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/dialogs/eventDialogCtrl.js","./controllers/dialogs/inputPromptCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/dialogs/inputPromptCtrl.js","./controllers/dialogs/selectPromptCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/dialogs/selectPromptCtrl.js","./controllers/dialogs/sharePromptCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/dialogs/sharePromptCtrl.js","./controllers/dialogs/tournamentDialogCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/dialogs/tournamentDialogCtrl.js","./controllers/dialogs/userDialogCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/dialogs/userDialogCtrl.js","./controllers/eventManageCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/eventManageCtrl.js","./controllers/homeCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/homeCtrl.js","./controllers/navCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/navCtrl.js","./controllers/rootCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/rootCtrl.js","./controllers/tournamentManageCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/tournamentManageCtrl.js","./controllers/tournamentSidebarCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/tournamentSidebarCtrl.js","./controllers/userManageCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/userManageCtrl.js","./controllers/userSettingsCtrl":"/Users/seiyria/GitHub/openchallenge/src/js/controllers/userSettingsCtrl.js","./routes":"/Users/seiyria/GitHub/openchallenge/src/js/routes.js","./services/auth":"/Users/seiyria/GitHub/openchallenge/src/js/services/auth.js","./services/currentEvents":"/Users/seiyria/GitHub/openchallenge/src/js/services/currentEvents.js","./services/currentTournaments":"/Users/seiyria/GitHub/openchallenge/src/js/services/currentTournaments.js","./services/disconnectNotifier":"/Users/seiyria/GitHub/openchallenge/src/js/services/disconnectNotifier.js","./services/ensureLoggedIn":"/Users/seiyria/GitHub/openchallenge/src/js/services/ensureLoggedIn.js","./services/eventManagement":"/Users/seiyria/GitHub/openchallenge/src/js/services/eventManagement.js","./services/filterUtils":"/Users/seiyria/GitHub/openchallenge/src/js/services/filterUtils.js","./services/inputPrompt":"/Users/seiyria/GitHub/openchallenge/src/js/services/inputPrompt.js","./services/selectPrompt":"/Users/seiyria/GitHub/openchallenge/src/js/services/selectPrompt.js","./services/setManagement":"/Users/seiyria/GitHub/openchallenge/src/js/services/setManagement.js","./services/shareManagement":"/Users/seiyria/GitHub/openchallenge/src/js/services/shareManagement.js","./services/sharePrompt":"/Users/seiyria/GitHub/openchallenge/src/js/services/sharePrompt.js","./services/sidebarManagement":"/Users/seiyria/GitHub/openchallenge/src/js/services/sidebarManagement.js","./services/toaster":"/Users/seiyria/GitHub/openchallenge/src/js/services/toaster.js","./services/tournamentManagement":"/Users/seiyria/GitHub/openchallenge/src/js/services/tournamentManagement.js","./services/userManagement":"/Users/seiyria/GitHub/openchallenge/src/js/services/userManagement.js","./services/userStatus":"/Users/seiyria/GitHub/openchallenge/src/js/services/userStatus.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/app.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = angular.module('openchallenge', ['ngAria', 'ngAnimate', 'ngMaterial', 'ngMdIcons', 'ngStorage', 'ui.router', 'firebase', 'md.data.table']);
module.exports = exports['default'];

},{}],"/Users/seiyria/GitHub/openchallenge/src/js/constants/firebaseURL.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].constant('FirebaseURL', 'https://openchallenge.firebaseio.com');

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/dialogs/eventDialogCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('eventDialogController', function ($scope, $mdDialog, tEvent) {

  $scope.cancel = $mdDialog.cancel;

  var success = function success(item) {
    return $mdDialog.hide(item);
  };

  $scope.label = _.keys(tEvent).length > 0 ? 'Edit' : 'Add';

  $scope.item = _.extend({}, tEvent);
  if ($scope.item.date) $scope.item.date = new Date($scope.item.date);

  $scope.addItem = function () {
    $scope.item.form.$setSubmitted();

    if ($scope.item.form.$valid) {
      var newItem = _.omit($scope.item, 'form');
      newItem.date = newItem.date.getTime();
      success(newItem);
    }
  };
});

},{"../../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/dialogs/inputPromptCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('inputPromptController', function ($scope, $mdDialog, title, label, defaultValue, invalidValues) {

  $scope.cancel = $mdDialog.cancel;

  var success = function success(item) {
    return $mdDialog.hide(item);
  };

  $scope.string = defaultValue;
  $scope.title = title;
  $scope.label = label;
  $scope.isValid = function () {
    return !_.contains(invalidValues, $scope.string);
  };

  $scope.submit = function () {
    $scope.form.$setSubmitted();

    if ($scope.form.$valid) {
      success($scope.string);
    }
  };
});

},{"../../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/dialogs/selectPromptCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('selectPromptController', function ($scope, $mdDialog, title, label, defaultValue, selectableValues) {

  $scope.cancel = $mdDialog.cancel;

  var success = function success(item) {
    return $mdDialog.hide(item);
  };

  $scope.string = defaultValue;
  $scope.title = title;
  $scope.label = label;
  $scope.selectableValues = _.sortBy(selectableValues);
  $scope.groups = _.uniq(_.pluck(selectableValues, 'group'));

  $scope.submit = function () {
    $scope.form.$setSubmitted();

    if ($scope.form.$valid) {
      success($scope.string);
    }
  };
});

},{"../../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/dialogs/sharePromptCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('sharePromptController', function ($scope, $mdDialog, $firebaseObject, FirebaseURL, title, defaultValue) {

  var allUsers = $firebaseObject(new Firebase(FirebaseURL + '/users'));

  $scope.cancel = $mdDialog.cancel;

  var success = function success(item) {
    return $mdDialog.hide(item);
  };

  $scope.title = title;
  $scope.sharedWith = defaultValue;

  $scope.getUser = function (searchKey) {
    try {
      var key = atob(searchKey);
      return allUsers[key] ? [{ name: allUsers[key].name, uid: key }] : [];
    } catch (e) {
      return [];
    }
  };

  $scope.submit = function () {
    success($scope.sharedWith);
  };
});

},{"../../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/dialogs/tournamentDialogCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('tournamentDialogController', function ($scope, $mdDialog, tournament, CurrentEvents) {

  $scope.cancel = $mdDialog.cancel;

  var success = function success(item) {
    return $mdDialog.hide(item);
  };

  $scope.label = _.keys(tournament).length > 0 ? 'Edit' : 'Add';

  $scope.item = _.extend({}, tournament);
  $scope.allEvents = CurrentEvents;

  $scope.addItem = function () {
    $scope.item.form.$setSubmitted();

    if ($scope.item.form.$valid) {
      var newItem = _.omit($scope.item, 'form');
      success(newItem);
    }
  };
});

},{"../../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/dialogs/userDialogCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('userDialogController', function ($scope, $mdDialog, player, viewOnly, UserManagement, FilterUtils) {

  $scope.cancel = $mdDialog.cancel;
  $scope.viewOnly = viewOnly;

  var success = function success(item) {
    return $mdDialog.hide(item);
  };

  $scope.label = _.keys(player).length > 0 ? 'Edit' : 'Add';

  $scope.getLocations = function () {
    var query = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
    return FilterUtils.getAndFilter(UserManagement.users, 'location', query);
  };
  $scope.getGames = function () {
    var query = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
    return _.difference(FilterUtils.getAndFilter(UserManagement.users, 'games', query), $scope.item.games);
  };
  $scope.getCharacters = function () {
    var query = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
    return _.difference(FilterUtils.getAndFilter(UserManagement.users, 'characters', query), $scope.item.characters);
  };

  $scope.item = _.extend({
    aliases: [],
    games: [],
    characters: []
  }, player);

  $scope.addItem = function () {
    $scope.item.form.$setSubmitted();

    if ($scope.item.form.$valid) {
      success(_.omit($scope.item, 'form'));
    }
  };
});

},{"../../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/eventManageCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('eventManageController', function ($scope, SidebarManagement, EnsureLoggedIn, EventManagement, CurrentEvents) {
  SidebarManagement.hasSidebar = true;
  EnsureLoggedIn.check();

  $scope.events = [];
  $scope.visibleEvents = [];
  $scope.selected = [];

  $scope.datatable = {
    filter: '',
    order: '-name',
    limit: 10,
    page: 1,
    bookmark: 1
  };

  $scope.filter = { options: { throttle: 500 } };

  $scope.hideSearch = function () {
    $scope.datatable.filter = '';
    $scope.filter.show = false;
    if ($scope.filter.form.$dirty) {
      $scope.filter.form.$setPristine();
    }
  };

  var filterWatch = function filterWatch(newValue, oldValue) {
    if (!oldValue) {
      $scope.datatable.bookmark = $scope.datatable.page;
    }

    if (newValue !== oldValue) {
      $scope.datatable.page = 1;
    }

    if (!newValue) {
      $scope.datatable.page = $scope.datatable.bookmark;
    }

    $scope.getEvents();
  };

  $scope.$watch('datatable.filter', filterWatch);

  $scope.toggleShowArchived = function () {
    $scope.showArchived = !$scope.showArchived;
    $scope.getEvents();
  };

  $scope.getEvents = function () {
    return $scope.visibleEvents = EventManagement.filterEvents($scope.events, $scope.datatable, $scope.showArchived);
  };

  $scope.addItem = function (event) {
    EventManagement.addItem(event, function (newEvent) {
      $scope.events.$add(newEvent);
    });
  };

  $scope.editItem = function (event) {
    EventManagement.editItem(event, $scope.selected[0], function (oldEvent) {
      var item = $scope.events.$getRecord(oldEvent.$id);
      _.extend(item, oldEvent);
      $scope.events.$save(item);
    });
  };

  $scope.removeItem = function (event) {
    EventManagement.removeItem(event, $scope.selected, function () {
      _.each($scope.selected, function (event) {
        var item = $scope.events.$getRecord(event.$id);
        $scope.events.$remove(item);
      });

      $scope.selected = [];
    });
  };

  $scope.archiveItem = function (event) {
    EventManagement.archiveItem(event, $scope.selected, function () {
      _.each($scope.selected, function (event) {
        var item = $scope.events.$getRecord(event.$id);
        item.archived = !item.archived;
        $scope.events.$save(item);
      });

      $scope.selected = [];
    });
  };

  $scope.loadEvents = function () {
    $scope.events = CurrentEvents;
    $scope.events.$loaded($scope.getEvents);
    $scope.events.$watch($scope.getEvents);
  };

  $scope.loadEvents();
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/homeCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('homeController', function ($scope, SidebarManagement) {
  SidebarManagement.hasSidebar = false;

  $scope.blocks = [{
    name: 'Tournament Management',
    info: 'Generate single or double elimination brackets with ease.',
    icon: 'assignment'
  }, {
    name: 'Player Catalog',
    info: 'Keep track of all the important info - wins, losses, names, aliases, and more.',
    icon: 'accessibility'
  }, {
    name: 'Broadcasting',
    info: 'When you\'re online, share any or all of your tournament brackets with the world.',
    icon: 'settings_input_antenna'
  }, {
    name: 'Offline Capability',
    info: 'You can use OpenChallenge without an internet connection. When you get a signal, OpenChallenge will save the data automatically.',
    icon: 'desktop_windows'
  }, {
    name: 'Collaboration',
    info: 'Working with a group? Let them have access to your player catalog.',
    icon: 'group'
  }, {
    name: 'Distribution',
    info: 'OpenChallenge can export to PDF for easy paper distribution.',
    icon: 'file_download'
  }];
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/navCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('navController', function ($scope, $mdSidenav, Auth, DisconnectNotifier, SidebarManagement, UserStatus) {

  $scope.toggleList = function () {
    $mdSidenav('left').toggle();
  };

  $scope.sidebar = SidebarManagement;

  $scope.auth = Auth;

  DisconnectNotifier.then(null, null, function (connected) {
    $scope.connected = connected;
  });

  $scope.userStatus = UserStatus;
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/rootCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('rootController', function ($scope, $mdSidenav, UserStatus, SidebarManagement) {
  $scope.userStatus = UserStatus;
  $scope.sidebar = SidebarManagement;
  $scope.dismissSidebar = function () {
    return $mdSidenav('left').toggle();
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/tournamentManageCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('tournamentManageController', function ($scope, SidebarManagement, EnsureLoggedIn, TournamentManagement, CurrentTournaments) {
  SidebarManagement.hasSidebar = true;
  EnsureLoggedIn.check();

  $scope.tournaments = [];
  $scope.visibleTournaments = [];
  $scope.selected = [];

  $scope.datatable = {
    filter: '',
    order: '-name',
    limit: 10,
    page: 1,
    bookmark: 1
  };

  $scope.filter = { options: { throttle: 500 } };

  $scope.hideSearch = function () {
    $scope.datatable.filter = '';
    $scope.filter.show = false;
    if ($scope.filter.form.$dirty) {
      $scope.filter.form.$setPristine();
    }
  };

  var filterWatch = function filterWatch(newValue, oldValue) {
    if (!oldValue) {
      $scope.datatable.bookmark = $scope.datatable.page;
    }

    if (newValue !== oldValue) {
      $scope.datatable.page = 1;
    }

    if (!newValue) {
      $scope.datatable.page = $scope.datatable.bookmark;
    }

    $scope.getTournaments();
  };

  $scope.$watch('datatable.filter', filterWatch);

  $scope.toggleShowArchived = function () {
    $scope.showArchived = !$scope.showArchived;
    $scope.getTournaments();
  };

  $scope.getTournaments = function () {
    return $scope.visibleTournaments = TournamentManagement.filterTournaments($scope.tournaments, $scope.datatable, $scope.showArchived);
  };

  $scope.addItem = function (event) {
    TournamentManagement.addItem(event, function (newTournament) {
      $scope.tournaments.$add(newTournament);
    });
  };

  $scope.tournamentName = TournamentManagement.getTournamentNameFromId;

  $scope.editItem = function (event) {
    TournamentManagement.editItem(event, $scope.selected[0], function (oldTournament) {
      var item = $scope.events.$getRecord(oldTournament.$id);
      _.extend(item, oldTournament);
      $scope.tournaments.$save(item);
    });
  };

  $scope.removeItem = function (event) {
    TournamentManagement.removeItem(event, $scope.selected, function () {
      _.each($scope.selected, function (tournament) {
        var item = $scope.tournaments.$getRecord(tournament.$id);
        $scope.tournaments.$remove(item);
      });

      $scope.selected = [];
    });
  };

  $scope.archiveItem = function (event) {
    TournamentManagement.archiveItem(event, $scope.selected, function () {
      _.each($scope.selected, function (tournament) {
        var item = $scope.tournaments.$getRecord(tournament.$id);
        item.archived = !item.archived;
        $scope.tournaments.$save(item);
      });

      $scope.selected = [];
    });
  };

  $scope.loadTournaments = function () {
    $scope.tournaments = CurrentTournaments;
    $scope.tournaments.$loaded($scope.getTournaments);
    $scope.tournaments.$watch($scope.getTournaments);
  };

  $scope.loadTournaments();
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/tournamentSidebarCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('tournamentSidebarController', function ($scope, $state, $mdSidenav) {
  $scope.events = [{
    name: 'OGS Th 9/21',
    tournaments: [{
      name: 'Tournament 1'
    }, {
      name: 'Tournament 2'
    }]
  }];

  $scope.navigateTo = function (state) {
    $state.go(state);
    $mdSidenav('left').toggle();
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/userManageCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('userManageController', function ($scope, $firebaseArray, $firebaseObject, FirebaseURL, InputPrompt, UserStatus, ShareManagement, SetManagement, SidebarManagement, EnsureLoggedIn, UserManagement) {

  SidebarManagement.hasSidebar = true;
  var authData = EnsureLoggedIn.check();

  $scope.datatable = {
    filter: '',
    order: '-name',
    limit: 10,
    page: 1,
    bookmark: 1
  };

  $scope.filter = { options: { throttle: 500 } };

  $scope.users = [];
  $scope.visibleUsers = [];
  $scope.selected = [];
  $scope.listKeys = [];
  $scope.sharedLists = [];

  $scope.userData = UserStatus;

  $scope.addItem = function (event) {
    UserManagement.addItem(event, function (newPlayer) {
      $scope.users.$add(newPlayer);
    });
  };

  $scope.editItem = function (event) {
    UserManagement.editItem(event, $scope.selected[0], function (oldPlayer) {
      var item = $scope.users.$getRecord(oldPlayer.$id);
      _.extend(item, oldPlayer);
      $scope.users.$save(item);
    });
  };

  $scope.removeItem = function (event) {
    UserManagement.removeItem(event, $scope.selected, function () {
      _.each($scope.selected, function (player) {
        var item = $scope.users.$getRecord(player.$id);
        $scope.users.$remove(item);
      });

      $scope.selected = [];
    });
  };

  $scope.viewItem = UserManagement.viewItem;

  $scope.getUsers = function () {
    $scope.visibleUsers = UserManagement.filterUsers($scope.users, $scope.datatable);
  };

  $scope.hideSearch = function () {
    $scope.datatable.filter = '';
    $scope.filter.show = false;
    if ($scope.filter.form.$dirty) {
      $scope.filter.form.$setPristine();
    }
  };

  var filterWatch = function filterWatch(newValue, oldValue) {
    if (!oldValue) {
      $scope.datatable.bookmark = $scope.datatable.page;
    }

    if (newValue !== oldValue) {
      $scope.datatable.page = 1;
    }

    if (!newValue) {
      $scope.datatable.page = $scope.datatable.bookmark;
    }

    $scope.getUsers();
  };

  $scope.$watch('datatable.filter', filterWatch);

  $scope.changePlayerSet = function () {
    var name = arguments.length <= 0 || arguments[0] === undefined ? 'default' : arguments[0];

    var mySet = _.findWhere($scope.listKeys, { short: name });
    UserStatus.firebase.playerSet = name;
    UserStatus.firebase.playerSetUid = mySet ? mySet.uid : authData.uid;

    $scope.isMine = UserStatus.firebase.playerSetUid === authData.uid;
    UserStatus.firebase.$save();

    $scope.setCurrentPlayerSet(name);
  };

  $scope.setCurrentPlayerSet = function () {
    var name = arguments.length <= 0 || arguments[0] === undefined ? 'default' : arguments[0];

    $scope.setObject = $firebaseObject(new Firebase(FirebaseURL + '/users/' + UserStatus.firebase.playerSetUid + '/players/' + name));
    $scope.setObject.$loaded(function () {
      if (!$scope.setObject.basename) {
        $scope.setObject.basename = name;
        $scope.setObject.$save();
      }
      if (!$scope.setObject.realName) {
        $scope.setObject.realName = name;
        $scope.setObject.$save();
      }
      if (!$scope.setObject.owner) {
        $scope.setObject.owner = authData.uid;
        $scope.setObject.$save();
      }
      $scope.loadUserList();
    });
  };

  $scope.hasMultipleSets = function () {
    return $scope.listKeys.length > 1;
  };

  $scope.ownsCurrentSet = function () {
    return $scope.setObject ? $scope.setObject.owner === authData.uid : false;
  };

  $scope.doNewSet = function (event) {
    return SetManagement.newSet(event, _.pluck($scope.listKeys, 'short'), $scope.changePlayerSet);
  };

  $scope.doRename = function (event) {
    return SetManagement.renameSet(event, $scope.setObject.realName, $scope.renameCurrentPlayerSet);
  };

  $scope.doDelete = function (event) {
    return SetManagement.deleteSet(event, $scope.removeSet);
  };

  $scope.doChange = function (event) {
    return SetManagement.changeSet(event, $scope.setObject.realName, $scope.listKeys, $scope.changeSetFromRealname);
  };

  $scope.doOrOpen = function (event) {
    return $scope.isOpen ? $scope.doChange(event) : $scope.isOpen = true;
  };

  $scope.openShareDialog = function (event) {
    return SetManagement.shareSet(event, $scope.setObject.realName, $scope.setObject.sharedWith, $scope.updateShareSettings);
  };

  $scope.changeSetFromRealname = function (newSet) {
    return $scope.changePlayerSet(_.findWhere($scope.listKeys, { realName: newSet }).short);
  };

  $scope.updateShareSettings = function (shareData) {
    var oldSharedWith = _.keys($scope.setObject.shareIDs);

    ShareManagement.manageSorting(oldSharedWith, shareData, $scope.setObject.basename);

    $scope.setObject.shareIDs = _.reduce(_.pluck(shareData, 'uid'), function (prev, cur) {
      prev[cur] = true;
      return prev;
    }, {});
    $scope.setObject.sharedWith = shareData;
    $scope.setObject.$save();
  };

  $scope.removeSet = function () {
    var oldSharedWith = _.keys($scope.setObject.shareIDs);
    ShareManagement.manageSorting(oldSharedWith, [], $scope.setObject.basename);

    $scope.setObject.$remove().then(function () {
      $scope.changePlayerSet(_.sample($scope.listKeys).short);
    });
  };

  $scope.renameCurrentPlayerSet = function (newName) {
    if (!newName) return;
    $scope.setObject.realName = newName;
    $scope.setObject.$save();
  };

  $scope.loadUserList = function () {
    $scope.users = UserManagement.users = $firebaseArray($scope.setObject.$ref().child('list'));
    $scope.users.$loaded($scope.getUsers);
    $scope.users.$watch($scope.getUsers);
  };

  $scope.resetListKeys = function () {
    $scope.listKeys = _.reject(_.keys($scope.allLists), function (key) {
      return _.contains(key, '$');
    });
    $scope.listKeys = _.map($scope.listKeys, function (key) {
      return { realName: $scope.allLists[key].realName, short: key, uid: authData.uid, group: 'Mine' };
    });
    $scope.listKeys = $scope.listKeys.concat($scope.sharedLists);
  };

  $scope.loadAllLists = function () {
    $scope.allLists = $firebaseObject(new Firebase(FirebaseURL + '/users/' + authData.uid + '/players'));
    $scope.allLists.$watch($scope.resetListKeys);
  };

  $scope.loadSharedWithMe = function () {
    var sharedWithMe = $firebaseObject(new Firebase(FirebaseURL + '/shares/' + authData.uid));
    sharedWithMe.$watch(function () {
      $scope.sharedLists = [];

      _.each(_.keys(sharedWithMe), function (sharer) {

        if (_.contains(sharer, '$')) return;
        var sharedbase = $firebaseObject(new Firebase(FirebaseURL + '/users/' + sharer));

        sharedbase.$loaded().then(function () {
          _.each(sharedWithMe[sharer], function (doc) {
            var sharename = sharedbase.name;
            var realDoc = sharedbase.players[doc];
            $scope.sharedLists.push({ realName: realDoc.realName, uid: sharer, short: realDoc.basename, group: 'Shared by ' + sharename });
          });
          $scope.resetListKeys();
        });
      });
    });
  };

  $scope.load = function () {
    UserStatus.firebase.$loaded(function () {
      if (!UserStatus.firebase.playerSet) {
        $scope.changePlayerSet('default');
      }
      if (!$scope.setObject) {
        $scope.setCurrentPlayerSet(UserStatus.firebase.playerSet);
      }
      $scope.isMine = UserStatus.firebase.playerSetUid === authData.uid;
    });
    $scope.loadAllLists();
    $scope.loadSharedWithMe();
  };

  $scope.load();
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/controllers/userSettingsCtrl.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].controller('userSettingsController', function ($scope, SidebarManagement, EnsureLoggedIn, FirebaseURL, $firebaseObject, Toaster) {

  SidebarManagement.hasSidebar = true;
  var authData = EnsureLoggedIn.check();

  $scope.shareId = btoa(authData.uid);

  var data = $firebaseObject(new Firebase(FirebaseURL + '/users/' + authData.uid));

  var clipboard = new Clipboard('#copy-id');
  clipboard.on('success', function () {
    Toaster.show('Copied ID to clipboard!');
  });

  $scope.save = function () {
    var importantData = {
      events: data.events,
      players: data.players,
      tournaments: data.tournaments
    };
    var blob = new Blob([JSON.stringify(importantData)], { type: 'text/plain;charset=utf-8' });
    saveAs(blob, 'info-' + Date.now() + '.openchallenge');
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/routes.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('./app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].config(function ($stateProvider, $urlRouterProvider) {

  $urlRouterProvider.otherwise('/');

  $stateProvider.state('home', {
    url: '/',
    views: {
      'content@': { templateUrl: '/home', controller: 'homeController' }
    }
  }).state('userManage', {
    url: '/players',
    views: {
      'content@': { templateUrl: '/user-manage', controller: 'userManageController' },
      'sidebar@': { templateUrl: '/tournament-sidebar', controller: 'tournamentSidebarController' }
    }
  }).state('eventManage', {
    url: '/events',
    views: {
      'content@': { templateUrl: '/event-manage', controller: 'eventManageController' },
      'sidebar@': { templateUrl: '/tournament-sidebar', controller: 'tournamentSidebarController' }
    }
  }).state('tournamentManage', {
    url: '/tournaments',
    views: {
      'content@': { templateUrl: '/tournament-manage', controller: 'tournamentManageController' },
      'sidebar@': { templateUrl: '/tournament-sidebar', controller: 'tournamentSidebarController' }
    }
  }).state('userSettings', {
    url: '/settings',
    views: {
      'content@': { templateUrl: '/user-settings', controller: 'userSettingsController' },
      'sidebar@': { templateUrl: '/tournament-sidebar', controller: 'tournamentSidebarController' }
    }
  });
});

},{"./app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/auth.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('Auth', function (FirebaseURL, UserStatus, $state, $firebaseAuth, $firebaseObject) {

  var loginTypes = [{
    name: 'Facebook',
    icon: 'facebook'
  }, {
    name: 'Twitter',
    icon: 'twitter'
  }, {
    name: 'Google',
    icon: 'google-plus'
  }];

  var authBase = $firebaseAuth(new Firebase(FirebaseURL));

  var handleAuth = function handleAuth(authData) {
    var provider = authData.auth.provider;
    UserStatus.displayName = authData[provider].displayName;
    UserStatus.loggedIn = true;
    UserStatus.authData = authData;

    UserStatus.firebase = $firebaseObject(new Firebase(FirebaseURL + '/users/' + authData.uid));

    UserStatus.firebase.$loaded(function () {
      if (!UserStatus.firebase.provider) {
        UserStatus.firebase.provider = authData.auth.provider;
        UserStatus.firebase.$save();
      }

      if (!UserStatus.firebase.name) {
        UserStatus.firebase.name = authData[authData.auth.provider].displayName;
        UserStatus.firebase.$save();
      }
    });
  };

  var attemptAuth = authBase.$getAuth();
  if (attemptAuth) handleAuth(attemptAuth);

  var doLogin = function doLogin(service) {
    authBase.$authWithOAuthPopup(service.toLowerCase()).then(function (authData) {
      handleAuth(authData);
      $state.go('userManage');
    })['catch'](function (error) {
      console.error('Authentication failed', error);
    });
  };

  var doLogout = function doLogout() {
    authBase.$unauth();
    UserStatus.loggedIn = false;
    $state.go('home');
  };

  return {
    loginTypes: loginTypes,
    doLogin: doLogin,
    doLogout: doLogout
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/currentEvents.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('CurrentEvents', function ($firebaseArray, FirebaseURL, EnsureLoggedIn) {
  var authData = EnsureLoggedIn.check();
  return $firebaseArray(new Firebase(FirebaseURL + '/users/' + authData.uid + '/events'));
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/currentTournaments.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('CurrentTournaments', function ($firebaseArray, FirebaseURL, EnsureLoggedIn) {
  var authData = EnsureLoggedIn.check();
  return $firebaseArray(new Firebase(FirebaseURL + '/users/' + authData.uid + '/tournaments'));
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/disconnectNotifier.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('DisconnectNotifier', function ($q, FirebaseURL) {
  var firebase = new Firebase(FirebaseURL + '/.info/connected');
  var defer = $q.defer();

  firebase.on('value', function (snap) {
    defer.notify(snap.val());
  });

  return defer.promise;
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/ensureLoggedIn.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('EnsureLoggedIn', function (UserStatus, $state) {
  return {
    check: function check() {
      if (UserStatus.loggedIn) return UserStatus.authData;
      $state.go('home');
    }
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/eventManagement.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('EventManagement', function (FirebaseURL, $mdDialog, Toaster, $filter, FilterUtils) {

  var defaultMdDialogOptions = {
    clickOutsideToClose: true,
    controller: 'eventDialogController',
    focusOnOpen: false,
    templateUrl: '/dialog/addevent'
  };

  var addItem = function addItem(browserEvent, callback) {
    var mdDialogOptions = _.clone(defaultMdDialogOptions);
    mdDialogOptions.event = browserEvent;
    mdDialogOptions.locals = { tEvent: {} };
    $mdDialog.show(mdDialogOptions).then(callback);
  };

  var editItem = function editItem(browserEvent, tEvent, callback) {
    var mdDialogOptions = _.clone(defaultMdDialogOptions);
    mdDialogOptions.event = browserEvent;
    mdDialogOptions.locals = { tEvent: tEvent };
    $mdDialog.show(mdDialogOptions).then(callback);
  };

  var removeItem = function removeItem(browserEvent, tEvents, callback) {
    var dialog = $mdDialog.confirm().targetEvent(browserEvent).title('Remove Event').content('Are you sure you want to remove ' + tEvents.length + ' events?').ok('OK').cancel('Cancel');

    $mdDialog.show(dialog).then(function () {
      Toaster.show('Successfully removed ' + tEvents.length + ' events.');
      callback();
    });
  };

  var archiveItem = function archiveItem(browserEvent, tEvents, callback) {
    var string = _.any(tEvents, 'archived') ? 'unarchived' : 'archived';
    Toaster.show('Successfully ' + string + ' ' + tEvents.length + ' events.');
    callback();
  };

  var filterEvents = function filterEvents(events, datatable) {
    var archived = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];

    var func = archived ? 'filter' : 'reject';
    return _[func](FilterUtils.filterTable(events, datatable, function (event) {
      return [[event.name.toLowerCase()], [(event.description || '').toLowerCase()], [event.location.toLowerCase()], [$filter('date')(event.date, 'fullDate').toLowerCase()]];
    }), 'archived');
  };

  return {
    addItem: addItem,
    editItem: editItem,
    removeItem: removeItem,
    archiveItem: archiveItem,
    filterEvents: filterEvents
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/filterUtils.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('FilterUtils', function () {

  var filterByContains = function filterByContains(array, contains) {
    return _.filter(array, function (str) {
      return _.contains(str.toLowerCase(), contains.toLowerCase());
    });
  };
  var getUniqueKeys = function getUniqueKeys(array, key) {
    return _.compact(_.uniq(_.flatten([_.pluck(array, key)], true)));
  };
  var getAndFilter = function getAndFilter(array, key) {
    var search = arguments.length <= 2 || arguments[2] === undefined ? '' : arguments[2];
    return filterByContains(getUniqueKeys(array, key), search);
  };

  // get a filter array for user if they exist
  var getFilterArr = function getFilterArr(user, arr) {
    return user[arr] ? _.map(user[arr], function (s) {
      return s.toLowerCase();
    }) : [];
  };

  // check if anything in the right is a substring in the left
  var containsAny = function containsAny(left, right) {
    return _.some(right, function (filterKey) {
      return _.some(left, function (string) {
        return _.contains(string, filterKey);
      });
    });
  };

  var filterTable = function filterTable(array, datatable) {
    var criterion = arguments.length <= 2 || arguments[2] === undefined ? function () {
      return [];
    } : arguments[2];

    // allow multiple filters separated by a comma
    var filterArr = _.compact(_.map(datatable.filter.toLowerCase().split(','), function (m) {
      return m.trim();
    }));

    // pagination and stuff
    var startIndex = datatable.limit * (datatable.page - 1);
    var endIndex = startIndex + datatable.limit;
    var doReverse = datatable.order.charAt(0) === '-';
    var order = datatable.order;

    if (doReverse) {
      order = order.substring(1);
    }

    var filtered = _(array).filter(function (user) {

      // only show people that match all criteria
      return filterArr.length === 0 ? true : _.reduce(_.map(criterion(user), function (criteria) {
        return containsAny(criteria, filterArr);
      }), function (prev, cur) {
        return prev + ~ ~cur;
      }, 0) >= filterArr.length;
    }).sortByOrder([order], [doReverse ? 'asc' : 'desc']).slice(startIndex, endIndex).value();

    return filtered;
  };

  return {
    containsAny: containsAny,
    getFilterArr: getFilterArr,
    getUniqueKeys: getUniqueKeys,
    getAndFilter: getAndFilter,
    filterByContains: filterByContains,
    filterTable: filterTable
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/inputPrompt.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('InputPrompt', function ($mdDialog) {
  return {
    show: function show(event, opts, callback) {
      if (opts === undefined) opts = {};

      var locals = _.extend({ name: 'Enter data', defaultValue: '', label: 'Data', invalidValues: [] }, opts);

      var mdDialogOptions = {
        event: event, locals: locals,
        clickOutsideToClose: true,
        controller: 'inputPromptController',
        focusOnOpen: false,
        templateUrl: '/dialog/input-prompt'
      };

      $mdDialog.show(mdDialogOptions).then(callback);
    }
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/selectPrompt.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('SelectPrompt', function ($mdDialog) {
  return {
    show: function show(event, opts, callback) {
      if (opts === undefined) opts = {};

      var locals = _.extend({ name: 'Enter data', defaultValue: '', label: 'Data', selectableValues: [] }, opts);

      var mdDialogOptions = {
        event: event, locals: locals,
        clickOutsideToClose: true,
        controller: 'selectPromptController',
        focusOnOpen: false,
        templateUrl: '/dialog/select-prompt'
      };

      $mdDialog.show(mdDialogOptions).then(callback);
    }
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/setManagement.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('SetManagement', function (FirebaseURL, $mdDialog, InputPrompt, SelectPrompt, SharePrompt, Toaster) {

  var newSet = function newSet(event, invalidValues, callback) {
    InputPrompt.show(event, {
      title: 'Add new player set',
      label: 'Player set name',
      invalidValues: invalidValues
    }, function (string) {
      Toaster.show('Successfully added new player set "' + string + '"');
      callback(string);
    });
  };

  var renameSet = function renameSet(event, defaultName, callback) {
    InputPrompt.show(event, {
      defaultValue: defaultName,
      title: 'Rename this player set',
      label: 'Player set name'
    }, function (string) {
      Toaster.show('Successfully renamed player set to "' + string + '"');
      callback(string);
    });
  };

  var changeSet = function changeSet(event, current, choices, callback) {
    SelectPrompt.show(event, {
      defaultValue: current,
      selectableValues: choices,
      title: 'Choose a player set',
      label: 'Player set'
    }, function (string) {
      Toaster.show('Successfully changed player set to "' + string + '"');
      callback(string);
    });
  };

  var deleteSet = function deleteSet(event, callback) {
    var dialog = $mdDialog.confirm().targetEvent(event).title('Remove Player').content('Are you sure you want to remove this player set?').ok('OK').cancel('Cancel');

    $mdDialog.show(dialog).then(function () {
      Toaster.show('Successfully removed player set.');
      callback();
    });
  };

  var shareSet = function shareSet(event, docName, defaultShared, callback) {
    SharePrompt.show(event, {
      title: docName,
      defaultValue: defaultShared || []
    }, function (data) {
      Toaster.show('Successfully updated share settings');
      callback(data);
    });
  };

  return {
    newSet: newSet,
    renameSet: renameSet,
    deleteSet: deleteSet,
    shareSet: shareSet,
    changeSet: changeSet
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/shareManagement.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('ShareManagement', function (UserStatus, FirebaseURL, $firebaseArray) {

  var me = UserStatus.authData.uid;

  var manageSorting = function manageSorting(oldSortsPlucked, newSorts, docId) {
    var newSortsPlucked = _.pluck(newSorts, 'uid');
    var removals = _.difference(oldSortsPlucked, newSortsPlucked);
    var additions = _.difference(newSortsPlucked, oldSortsPlucked);

    if (removals.length === 0 && additions.length === 0) return;

    _.each(additions, function (add) {
      var sharebase = $firebaseArray(new Firebase(FirebaseURL + '/shares/' + add + '/' + me));
      sharebase.$loaded().then(function () {
        sharebase.$add(docId);
      });
    });

    _.each(removals, function (rem) {
      var sharebase = $firebaseArray(new Firebase(FirebaseURL + '/shares/' + rem + '/' + me));
      sharebase.$loaded().then(function () {
        var item = _.findWhere(sharebase, { $value: docId });
        sharebase.$remove(sharebase.$indexFor(item.$id));
      });
    });
  };

  return {
    manageSorting: manageSorting
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/sharePrompt.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('SharePrompt', function ($mdDialog) {
  return {
    show: function show(event, opts, callback) {
      if (opts === undefined) opts = {};

      var locals = _.extend({ defaultValue: [], title: '' }, opts);

      var mdDialogOptions = {
        event: event, locals: locals,
        clickOutsideToClose: true,
        controller: 'sharePromptController',
        focusOnOpen: false,
        templateUrl: '/dialog/share-prompt'
      };

      $mdDialog.show(mdDialogOptions).then(callback);
    }
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/sidebarManagement.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('SidebarManagement', function () {
  return {
    hasSidebar: false
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/toaster.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('Toaster', function ($mdToast) {
  return {
    show: function show(string) {
      $mdToast.show($mdToast.simple().content(string).action('OK').position('top right'));
    }
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/tournamentManagement.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('TournamentManagement', function (FirebaseURL, $mdDialog, Toaster, $filter, FilterUtils, CurrentEvents) {

  var defaultMdDialogOptions = {
    clickOutsideToClose: true,
    controller: 'tournamentDialogController',
    focusOnOpen: false,
    templateUrl: '/dialog/addtournament'
  };

  var addItem = function addItem(browserEvent, callback) {
    var mdDialogOptions = _.clone(defaultMdDialogOptions);
    mdDialogOptions.event = browserEvent;
    mdDialogOptions.locals = { tournament: {} };
    $mdDialog.show(mdDialogOptions).then(callback);
  };

  var editItem = function editItem(browserEvent, tournament, callback) {
    var mdDialogOptions = _.clone(defaultMdDialogOptions);
    mdDialogOptions.event = browserEvent;
    mdDialogOptions.locals = { tournament: tournament };
    $mdDialog.show(mdDialogOptions).then(callback);
  };

  var removeItem = function removeItem(browserEvent, tEvents, callback) {
    var dialog = $mdDialog.confirm().targetEvent(browserEvent).title('Remove Event').content('Are you sure you want to remove ' + tEvents.length + ' tournaments?').ok('OK').cancel('Cancel');

    $mdDialog.show(dialog).then(function () {
      Toaster.show('Successfully removed ' + tEvents.length + ' tournaments.');
      callback();
    });
  };

  var archiveItem = function archiveItem(browserEvent, tEvents, callback) {
    var string = _.any(tEvents, 'archived') ? 'unarchived' : 'archived';
    Toaster.show('Successfully ' + string + ' ' + tEvents.length + ' tournaments.');
    callback();
  };

  var getTournamentNameFromId = function getTournamentNameFromId(id) {
    return _.findWhere(CurrentEvents, { $id: id }).name;
  };

  var filterTournaments = function filterTournaments(events, datatable) {
    var archived = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];

    var func = archived ? 'filter' : 'reject';
    return _[func](FilterUtils.filterTable(events, datatable, function (tournament) {
      return [[tournament.name.toLowerCase()], [tournament.game.toLowerCase()], [getTournamentNameFromId(tournament.event).toLowerCase()]];
    }), 'archived');
  };

  return {
    addItem: addItem,
    editItem: editItem,
    removeItem: removeItem,
    archiveItem: archiveItem,
    filterTournaments: filterTournaments,
    getTournamentNameFromId: getTournamentNameFromId
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/userManagement.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('UserManagement', function (FirebaseURL, $mdDialog, Toaster, FilterUtils) {

  var defaultMdDialogOptions = {
    clickOutsideToClose: true,
    controller: 'userDialogController',
    focusOnOpen: false,
    templateUrl: '/dialog/adduser'
  };

  var addItem = function addItem(event, callback) {
    var mdDialogOptions = _.clone(defaultMdDialogOptions);
    mdDialogOptions.event = event;
    mdDialogOptions.locals = { player: {}, viewOnly: false };
    $mdDialog.show(mdDialogOptions).then(callback);
  };

  var editItem = function editItem(event, player, callback) {
    var mdDialogOptions = _.clone(defaultMdDialogOptions);
    mdDialogOptions.event = event;
    mdDialogOptions.locals = { player: player, viewOnly: false };
    $mdDialog.show(mdDialogOptions).then(callback);
  };

  var removeItem = function removeItem(event, players, callback) {
    var dialog = $mdDialog.confirm().targetEvent(event).title('Remove Player').content('Are you sure you want to remove ' + players.length + ' players?').ok('OK').cancel('Cancel');

    $mdDialog.show(dialog).then(function () {
      Toaster.show('Successfully removed ' + players.length + ' players.');
      callback();
    });
  };

  var viewItem = function viewItem(event, player) {
    event.stopPropagation();
    var mdDialogOptions = _.clone(defaultMdDialogOptions);
    mdDialogOptions.event = event;
    mdDialogOptions.locals = { player: player, viewOnly: true };
    $mdDialog.show(mdDialogOptions);
  };

  var filterUsers = function filterUsers(users, datatable) {
    return FilterUtils.filterTable(users, datatable, function (user) {
      return [[user.name.toLowerCase()], [user.location.toLowerCase()], FilterUtils.getFilterArr(user, 'aliases'), FilterUtils.getFilterArr(user, 'games'), FilterUtils.getFilterArr(user, 'characters')];
    });
  };

  return {
    addItem: addItem,
    editItem: editItem,
    removeItem: removeItem,
    viewItem: viewItem,
    filterUsers: filterUsers
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}],"/Users/seiyria/GitHub/openchallenge/src/js/services/userStatus.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

_app2['default'].service('UserStatus', function () {
  return {
    loggedIn: false,
    displayName: ''
  };
});

},{"../app":"/Users/seiyria/GitHub/openchallenge/src/js/app.js"}]},{},["/Users/seiyria/GitHub/openchallenge/src/js/_init.js"])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvc2VpeXJpYS9HaXRIdWIvb3BlbmNoYWxsZW5nZS9zcmMvanMvX2luaXQuanMiLCIvVXNlcnMvc2VpeXJpYS9HaXRIdWIvb3BlbmNoYWxsZW5nZS9zcmMvanMvYXBwLmpzIiwiL1VzZXJzL3NlaXlyaWEvR2l0SHViL29wZW5jaGFsbGVuZ2Uvc3JjL2pzL2NvbnN0YW50cy9maXJlYmFzZVVSTC5qcyIsIi9Vc2Vycy9zZWl5cmlhL0dpdEh1Yi9vcGVuY2hhbGxlbmdlL3NyYy9qcy9jb250cm9sbGVycy9kaWFsb2dzL2V2ZW50RGlhbG9nQ3RybC5qcyIsIi9Vc2Vycy9zZWl5cmlhL0dpdEh1Yi9vcGVuY2hhbGxlbmdlL3NyYy9qcy9jb250cm9sbGVycy9kaWFsb2dzL2lucHV0UHJvbXB0Q3RybC5qcyIsIi9Vc2Vycy9zZWl5cmlhL0dpdEh1Yi9vcGVuY2hhbGxlbmdlL3NyYy9qcy9jb250cm9sbGVycy9kaWFsb2dzL3NlbGVjdFByb21wdEN0cmwuanMiLCIvVXNlcnMvc2VpeXJpYS9HaXRIdWIvb3BlbmNoYWxsZW5nZS9zcmMvanMvY29udHJvbGxlcnMvZGlhbG9ncy9zaGFyZVByb21wdEN0cmwuanMiLCIvVXNlcnMvc2VpeXJpYS9HaXRIdWIvb3BlbmNoYWxsZW5nZS9zcmMvanMvY29udHJvbGxlcnMvZGlhbG9ncy90b3VybmFtZW50RGlhbG9nQ3RybC5qcyIsIi9Vc2Vycy9zZWl5cmlhL0dpdEh1Yi9vcGVuY2hhbGxlbmdlL3NyYy9qcy9jb250cm9sbGVycy9kaWFsb2dzL3VzZXJEaWFsb2dDdHJsLmpzIiwiL1VzZXJzL3NlaXlyaWEvR2l0SHViL29wZW5jaGFsbGVuZ2Uvc3JjL2pzL2NvbnRyb2xsZXJzL2V2ZW50TWFuYWdlQ3RybC5qcyIsIi9Vc2Vycy9zZWl5cmlhL0dpdEh1Yi9vcGVuY2hhbGxlbmdlL3NyYy9qcy9jb250cm9sbGVycy9ob21lQ3RybC5qcyIsIi9Vc2Vycy9zZWl5cmlhL0dpdEh1Yi9vcGVuY2hhbGxlbmdlL3NyYy9qcy9jb250cm9sbGVycy9uYXZDdHJsLmpzIiwiL1VzZXJzL3NlaXlyaWEvR2l0SHViL29wZW5jaGFsbGVuZ2Uvc3JjL2pzL2NvbnRyb2xsZXJzL3Jvb3RDdHJsLmpzIiwiL1VzZXJzL3NlaXlyaWEvR2l0SHViL29wZW5jaGFsbGVuZ2Uvc3JjL2pzL2NvbnRyb2xsZXJzL3RvdXJuYW1lbnRNYW5hZ2VDdHJsLmpzIiwiL1VzZXJzL3NlaXlyaWEvR2l0SHViL29wZW5jaGFsbGVuZ2Uvc3JjL2pzL2NvbnRyb2xsZXJzL3RvdXJuYW1lbnRTaWRlYmFyQ3RybC5qcyIsIi9Vc2Vycy9zZWl5cmlhL0dpdEh1Yi9vcGVuY2hhbGxlbmdlL3NyYy9qcy9jb250cm9sbGVycy91c2VyTWFuYWdlQ3RybC5qcyIsIi9Vc2Vycy9zZWl5cmlhL0dpdEh1Yi9vcGVuY2hhbGxlbmdlL3NyYy9qcy9jb250cm9sbGVycy91c2VyU2V0dGluZ3NDdHJsLmpzIiwiL1VzZXJzL3NlaXlyaWEvR2l0SHViL29wZW5jaGFsbGVuZ2Uvc3JjL2pzL3JvdXRlcy5qcyIsIi9Vc2Vycy9zZWl5cmlhL0dpdEh1Yi9vcGVuY2hhbGxlbmdlL3NyYy9qcy9zZXJ2aWNlcy9hdXRoLmpzIiwiL1VzZXJzL3NlaXlyaWEvR2l0SHViL29wZW5jaGFsbGVuZ2Uvc3JjL2pzL3NlcnZpY2VzL2N1cnJlbnRFdmVudHMuanMiLCIvVXNlcnMvc2VpeXJpYS9HaXRIdWIvb3BlbmNoYWxsZW5nZS9zcmMvanMvc2VydmljZXMvY3VycmVudFRvdXJuYW1lbnRzLmpzIiwiL1VzZXJzL3NlaXlyaWEvR2l0SHViL29wZW5jaGFsbGVuZ2Uvc3JjL2pzL3NlcnZpY2VzL2Rpc2Nvbm5lY3ROb3RpZmllci5qcyIsIi9Vc2Vycy9zZWl5cmlhL0dpdEh1Yi9vcGVuY2hhbGxlbmdlL3NyYy9qcy9zZXJ2aWNlcy9lbnN1cmVMb2dnZWRJbi5qcyIsIi9Vc2Vycy9zZWl5cmlhL0dpdEh1Yi9vcGVuY2hhbGxlbmdlL3NyYy9qcy9zZXJ2aWNlcy9ldmVudE1hbmFnZW1lbnQuanMiLCIvVXNlcnMvc2VpeXJpYS9HaXRIdWIvb3BlbmNoYWxsZW5nZS9zcmMvanMvc2VydmljZXMvZmlsdGVyVXRpbHMuanMiLCIvVXNlcnMvc2VpeXJpYS9HaXRIdWIvb3BlbmNoYWxsZW5nZS9zcmMvanMvc2VydmljZXMvaW5wdXRQcm9tcHQuanMiLCIvVXNlcnMvc2VpeXJpYS9HaXRIdWIvb3BlbmNoYWxsZW5nZS9zcmMvanMvc2VydmljZXMvc2VsZWN0UHJvbXB0LmpzIiwiL1VzZXJzL3NlaXlyaWEvR2l0SHViL29wZW5jaGFsbGVuZ2Uvc3JjL2pzL3NlcnZpY2VzL3NldE1hbmFnZW1lbnQuanMiLCIvVXNlcnMvc2VpeXJpYS9HaXRIdWIvb3BlbmNoYWxsZW5nZS9zcmMvanMvc2VydmljZXMvc2hhcmVNYW5hZ2VtZW50LmpzIiwiL1VzZXJzL3NlaXlyaWEvR2l0SHViL29wZW5jaGFsbGVuZ2Uvc3JjL2pzL3NlcnZpY2VzL3NoYXJlUHJvbXB0LmpzIiwiL1VzZXJzL3NlaXlyaWEvR2l0SHViL29wZW5jaGFsbGVuZ2Uvc3JjL2pzL3NlcnZpY2VzL3NpZGViYXJNYW5hZ2VtZW50LmpzIiwiL1VzZXJzL3NlaXlyaWEvR2l0SHViL29wZW5jaGFsbGVuZ2Uvc3JjL2pzL3NlcnZpY2VzL3RvYXN0ZXIuanMiLCIvVXNlcnMvc2VpeXJpYS9HaXRIdWIvb3BlbmNoYWxsZW5nZS9zcmMvanMvc2VydmljZXMvdG91cm5hbWVudE1hbmFnZW1lbnQuanMiLCIvVXNlcnMvc2VpeXJpYS9HaXRIdWIvb3BlbmNoYWxsZW5nZS9zcmMvanMvc2VydmljZXMvdXNlck1hbmFnZW1lbnQuanMiLCIvVXNlcnMvc2VpeXJpYS9HaXRIdWIvb3BlbmNoYWxsZW5nZS9zcmMvanMvc2VydmljZXMvdXNlclN0YXR1cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O1FDQ08seUJBQXlCOztRQUV6Qix1QkFBdUI7O1FBQ3ZCLDJC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LEVBQUs7QUFDeEMsV0FBTyxXQUFXLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsVUFBQSxJQUFJO2FBQUksQ0FDdkQsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQ3pCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUM3QixXQUFXLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsRUFDekMsV0FBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLEVBQ3ZDLFdBQVcsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxDQUM3QztLQUFBLENBQUMsQ0FBQztHQUNKLENBQUM7O0FBRUYsU0FBTztBQUNMLFdBQU8sRUFBUCxPQUFPO0FBQ1AsWUFBUSxFQUFSLFFBQVE7QUFDUixjQUFVLEVBQVYsVUFBVTtBQUNWLFlBQVEsRUFBUixRQUFRO0FBQ1IsZUFBVyxFQUFYLFdBQVc7R0FDWixDQUFDO0NBQ0gsQ0FBQyxDQUFDOzs7Ozs7O21CQ2hFYyxRQUFROzs7O0FBRXpCLGlCQUFLLE9BQU8sQ0FBQyxZQUFZLEVBQUUsWUFBTTtBQUMvQixTQUFPO0FBQ0wsWUFBUSxFQUFFLEtBQUs7QUFDZixlQUFXLEVBQUUsRUFBRTtHQUNoQixDQUFDO0NBQ0gsQ0FBQyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlxuaW1wb3J0ICcuL2NvbnN0YW50cy9maXJlYmFzZVVSTCc7XG5cbmltcG9ydCAnLi9zZXJ2aWNlcy91c2VyU3RhdHVzJztcbmltcG9ydCAnLi9zZXJ2aWNlcy9lbnN1cmVMb2dnZWRJbic7XG5pbXBvcnQgJy4vc2VydmljZXMvc2lkZWJhck1hbmFnZW1lbnQnO1xuaW1wb3J0ICcuL3NlcnZpY2VzL2Rpc2Nvbm5lY3ROb3RpZmllcic7XG5pbXBvcnQgJy4vc2VydmljZXMvdG9hc3Rlcic7XG5pbXBvcnQgJy4vc2VydmljZXMvZmlsdGVyVXRpbHMnO1xuaW1wb3J0ICcuL3NlcnZpY2VzL2F1dGgnO1xuXG5pbXBvcnQgJy4vc2VydmljZXMvY3VycmVudEV2ZW50cyc7XG5pbXBvcnQgJy4vc2VydmljZXMvY3VycmVudFRvdXJuYW1lbnRzJztcblxuaW1wb3J0ICcuL3NlcnZpY2VzL3VzZXJNYW5hZ2VtZW50JztcbmltcG9ydCAnLi9zZXJ2aWNlcy9ldmVudE1hbmFnZW1lbnQnO1xuaW1wb3J0ICcuL3NlcnZpY2VzL3RvdXJuYW1lbnRNYW5hZ2VtZW50JztcbmltcG9ydCAnLi9zZXJ2aWNlcy9zZXRNYW5hZ2VtZW50JztcblxuaW1wb3J0ICcuL3NlcnZpY2VzL2lucHV0UHJvbXB0JztcbmltcG9ydCAnLi9zZXJ2aWNlcy9zZWxlY3RQcm9tcHQnO1xuaW1wb3J0ICcuL3NlcnZpY2VzL3NoYXJlUHJvbXB0JztcbmltcG9ydCAnLi9zZXJ2aWNlcy9zaGFyZU1hbmFnZW1lbnQnO1xuXG5pbXBvcnQgJy4vY29udHJvbGxlcnMvcm9vdEN0cmwnO1xuaW1wb3J0ICcuL2NvbnRyb2xsZXJzL25hdkN0cmwnO1xuaW1wb3J0ICcuL2NvbnRyb2xsZXJzL2hvbWVDdHJsJztcbmltcG9ydCAnLi9jb250cm9sbGVycy91c2VyTWFuYWdlQ3RybCc7XG5pbXBvcnQgJy4vY29udHJvbGxlcnMvdG91cm5hbWVudE1hbmFnZUN0cmwnO1xuaW1wb3J0ICcuL2NvbnRyb2xsZXJzL2V2ZW50TWFuYWdlQ3RybCc7XG5pbXBvcnQgJy4vY29udHJvbGxlcnMvdXNlclNldHRpbmdzQ3RybCc7XG5pbXBvcnQgJy4vY29udHJvbGxlcnMvdG91cm5hbWVudFNpZGViYXJDdHJsJztcblxuaW1wb3J0ICcuL2NvbnRyb2xsZXJzL2RpYWxvZ3MvdXNlckRpYWxvZ0N0cmwnO1xuaW1wb3J0ICcuL2NvbnRyb2xsZXJzL2RpYWxvZ3MvZXZlbnREaWFsb2dDdHJsJztcbmltcG9ydCAnLi9jb250cm9sbGVycy9kaWFsb2dzL3RvdXJuYW1lbnREaWFsb2dDdHJsJztcbmltcG9ydCAnLi9jb250cm9sbGVycy9kaWFsb2dzL2lucHV0UHJvbXB0Q3RybCc7XG5pbXBvcnQgJy4vY29udHJvbGxlcnMvZGlhbG9ncy9zaGFyZVByb21wdEN0cmwnO1xuaW1wb3J0ICcuL2NvbnRyb2xsZXJzL2RpYWxvZ3Mvc2VsZWN0UHJvbXB0Q3RybCc7XG5cbmltcG9ydCAnLi9yb3V0ZXMnOyIsIlxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhci5tb2R1bGUoJ29wZW5jaGFsbGVuZ2UnLCBbJ25nQXJpYScsICduZ0FuaW1hdGUnLCAnbmdNYXRlcmlhbCcsICduZ01kSWNvbnMnLCAnbmdTdG9yYWdlJywgJ3VpLnJvdXRlcicsICdmaXJlYmFzZScsICdtZC5kYXRhLnRhYmxlJ10pOyIsImltcG9ydCBzaXRlIGZyb20gJy4uL2FwcCc7XG5cbnNpdGUuY29uc3RhbnQoJ0ZpcmViYXNlVVJMJywgJ2h0dHBzOi8vb3BlbmNoYWxsZW5nZS5maXJlYmFzZWlvLmNvbScpOyIsImltcG9ydCBzaXRlIGZyb20gJy4uLy4uL2FwcCc7XG5cbnNpdGUuY29udHJvbGxlcignZXZlbnREaWFsb2dDb250cm9sbGVyJywgKCRzY29wZSwgJG1kRGlhbG9nLCB0RXZlbnQpID0+IHtcblxuICAkc2NvcGUuY2FuY2VsID0gJG1kRGlhbG9nLmNhbmNlbDtcblxuICBjb25zdCBzdWNjZXNzID0gKGl0ZW0pID0+ICRtZERpYWxvZy5oaWRlKGl0ZW0pO1xuXG4gICRzY29wZS5sYWJlbCA9IF8ua2V5cyh0RXZlbnQpLmxlbmd0aCA+IDAgPyAnRWRpdCcgOiAnQWRkJztcblxuICAkc2NvcGUuaXRlbSA9IF8uZXh0ZW5kKHt9LCB0RXZlbnQpO1xuICBpZigkc2NvcGUuaXRlbS5kYXRlKSAkc2NvcGUuaXRlbS5kYXRlID0gbmV3IERhdGUoJHNjb3BlLml0ZW0uZGF0ZSk7XG5cbiAgJHNjb3BlLmFkZEl0ZW0gPSAoKSA9PiB7XG4gICAgJHNjb3BlLml0ZW0uZm9ybS4kc2V0U3VibWl0dGVkKCk7XG5cbiAgICBpZigkc2NvcGUuaXRlbS5mb3JtLiR2YWxpZCkge1xuICAgICAgY29uc3QgbmV3SXRlbSA9IF8ub21pdCgkc2NvcGUuaXRlbSwgJ2Zvcm0nKTtcbiAgICAgIG5ld0l0ZW0uZGF0ZSA9IG5ld0l0ZW0uZGF0ZS5nZXRUaW1lKCk7XG4gICAgICBzdWNjZXNzKG5ld0l0ZW0pO1xuICAgIH1cbiAgfTtcbn0pOyIsImltcG9ydCBzaXRlIGZyb20gJy4uLy4uL2FwcCc7XG5cbnNpdGUuY29udHJvbGxlcignaW5wdXRQcm9tcHRDb250cm9sbGVyJywgKCRzY29wZSwgJG1kRGlhbG9nLCB0aXRsZSwgbGFiZWwsIGRlZmF1bHRWYWx1ZSwgaW52YWxpZFZhbHVlcykgPT4ge1xuXG4gICRzY29wZS5jYW5jZWwgPSAkbWREaWFsb2cuY2FuY2VsO1xuXG4gIGNvbnN0IHN1Y2Nlc3MgPSAoaXRlbSkgPT4gJG1kRGlhbG9nLmhpZGUoaXRlbSk7XG5cbiAgJHNjb3BlLnN0cmluZyA9IGRlZmF1bHRWYWx1ZTtcbiAgJHNjb3BlLnRpdGxlID0gdGl0bGU7XG4gICRzY29wZS5sYWJlbCA9IGxhYmVsO1xuICAkc2NvcGUuaXNWYWxpZCA9ICgpID0+ICFfLmNvbnRhaW5zKGludmFsaWRWYWx1ZXMsICRzY29wZS5zdHJpbmcpO1xuXG4gICRzY29wZS5zdWJtaXQgPSAoKSA9PiB7XG4gICAgJHNjb3BlLmZvcm0uJHNldFN1Ym1pdHRlZCgpO1xuXG4gICAgaWYoJHNjb3BlLmZvcm0uJHZhbGlkKSB7XG4gICAgICBzdWNjZXNzKCRzY29wZS5zdHJpbmcpO1xuICAgIH1cbiAgfTtcbn0pOyIsImltcG9ydCBzaXRlIGZyb20gJy4uLy4uL2FwcCc7XG5cbnNpdGUuY29udHJvbGxlcignc2VsZWN0UHJvbXB0Q29udHJvbGxlcicsICgkc2NvcGUsICRtZERpYWxvZywgdGl0bGUsIGxhYmVsLCBkZWZhdWx0VmFsdWUsIHNlbGVjdGFibGVWYWx1ZXMpID0+IHtcblxuICAkc2NvcGUuY2FuY2VsID0gJG1kRGlhbG9nLmNhbmNlbDtcblxuICBjb25zdCBzdWNjZXNzID0gKGl0ZW0pID0+ICRtZERpYWxvZy5oaWRlKGl0ZW0pO1xuXG4gICRzY29wZS5zdHJpbmcgPSBkZWZhdWx0VmFsdWU7XG4gICRzY29wZS50aXRsZSA9IHRpdGxlO1xuICAkc2NvcGUubGFiZWwgPSBsYWJlbDtcbiAgJHNjb3BlLnNlbGVjdGFibGVWYWx1ZXMgPSBfLnNvcnRCeShzZWxlY3RhYmxlVmFsdWVzKTtcbiAgJHNjb3BlLmdyb3VwcyA9IF8udW5pcShfLnBsdWNrKHNlbGVjdGFibGVWYWx1ZXMsICdncm91cCcpKTtcblxuICAkc2NvcGUuc3VibWl0ID0gKCkgPT4ge1xuICAgICRzY29wZS5mb3JtLiRzZXRTdWJtaXR0ZWQoKTtcblxuICAgIGlmKCRzY29wZS5mb3JtLiR2YWxpZCkge1xuICAgICAgc3VjY2Vzcygkc2NvcGUuc3RyaW5nKTtcbiAgICB9XG4gIH07XG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi8uLi9hcHAnO1xuXG5zaXRlLmNvbnRyb2xsZXIoJ3NoYXJlUHJvbXB0Q29udHJvbGxlcicsICgkc2NvcGUsICRtZERpYWxvZywgJGZpcmViYXNlT2JqZWN0LCBGaXJlYmFzZVVSTCwgdGl0bGUsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuXG4gIGNvbnN0IGFsbFVzZXJzID0gJGZpcmViYXNlT2JqZWN0KG5ldyBGaXJlYmFzZShgJHtGaXJlYmFzZVVSTH0vdXNlcnNgKSk7XG5cbiAgJHNjb3BlLmNhbmNlbCA9ICRtZERpYWxvZy5jYW5jZWw7XG5cbiAgY29uc3Qgc3VjY2VzcyA9IChpdGVtKSA9PiAkbWREaWFsb2cuaGlkZShpdGVtKTtcblxuICAkc2NvcGUudGl0bGUgPSB0aXRsZTtcbiAgJHNjb3BlLnNoYXJlZFdpdGggPSBkZWZhdWx0VmFsdWU7XG5cbiAgJHNjb3BlLmdldFVzZXIgPSAoc2VhcmNoS2V5KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGtleSA9IGF0b2Ioc2VhcmNoS2V5KTtcbiAgICAgIHJldHVybiBhbGxVc2Vyc1trZXldID8gW3sgbmFtZTogYWxsVXNlcnNba2V5XS5uYW1lLCB1aWQ6IGtleSB9XSA6IFtdO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuc3VibWl0ID0gKCkgPT4ge1xuICAgIHN1Y2Nlc3MoJHNjb3BlLnNoYXJlZFdpdGgpO1xuICB9O1xufSk7IiwiaW1wb3J0IHNpdGUgZnJvbSAnLi4vLi4vYXBwJztcblxuc2l0ZS5jb250cm9sbGVyKCd0b3VybmFtZW50RGlhbG9nQ29udHJvbGxlcicsICgkc2NvcGUsICRtZERpYWxvZywgdG91cm5hbWVudCwgQ3VycmVudEV2ZW50cykgPT4ge1xuXG4gICRzY29wZS5jYW5jZWwgPSAkbWREaWFsb2cuY2FuY2VsO1xuXG4gIGNvbnN0IHN1Y2Nlc3MgPSAoaXRlbSkgPT4gJG1kRGlhbG9nLmhpZGUoaXRlbSk7XG5cbiAgJHNjb3BlLmxhYmVsID0gXy5rZXlzKHRvdXJuYW1lbnQpLmxlbmd0aCA+IDAgPyAnRWRpdCcgOiAnQWRkJztcblxuICAkc2NvcGUuaXRlbSA9IF8uZXh0ZW5kKHt9LCB0b3VybmFtZW50KTtcbiAgJHNjb3BlLmFsbEV2ZW50cyA9IEN1cnJlbnRFdmVudHM7XG5cbiAgJHNjb3BlLmFkZEl0ZW0gPSAoKSA9PiB7XG4gICAgJHNjb3BlLml0ZW0uZm9ybS4kc2V0U3VibWl0dGVkKCk7XG5cbiAgICBpZigkc2NvcGUuaXRlbS5mb3JtLiR2YWxpZCkge1xuICAgICAgY29uc3QgbmV3SXRlbSA9IF8ub21pdCgkc2NvcGUuaXRlbSwgJ2Zvcm0nKTtcbiAgICAgIHN1Y2Nlc3MobmV3SXRlbSk7XG4gICAgfVxuICB9O1xufSk7IiwiaW1wb3J0IHNpdGUgZnJvbSAnLi4vLi4vYXBwJztcblxuc2l0ZS5jb250cm9sbGVyKCd1c2VyRGlhbG9nQ29udHJvbGxlcicsICgkc2NvcGUsICRtZERpYWxvZywgcGxheWVyLCB2aWV3T25seSwgVXNlck1hbmFnZW1lbnQsIEZpbHRlclV0aWxzKSA9PiB7XG5cbiAgJHNjb3BlLmNhbmNlbCA9ICRtZERpYWxvZy5jYW5jZWw7XG4gICRzY29wZS52aWV3T25seSA9IHZpZXdPbmx5O1xuXG4gIGNvbnN0IHN1Y2Nlc3MgPSAoaXRlbSkgPT4gJG1kRGlhbG9nLmhpZGUoaXRlbSk7XG5cbiAgJHNjb3BlLmxhYmVsID0gXy5rZXlzKHBsYXllcikubGVuZ3RoID4gMCA/ICdFZGl0JyA6ICdBZGQnO1xuXG4gICRzY29wZS5nZXRMb2NhdGlvbnMgPSAocXVlcnkgPSAnJykgPT4gRmlsdGVyVXRpbHMuZ2V0QW5kRmlsdGVyKFVzZXJNYW5hZ2VtZW50LnVzZXJzLCAnbG9jYXRpb24nLCBxdWVyeSk7XG4gICRzY29wZS5nZXRHYW1lcyA9IChxdWVyeSA9ICcnKSA9PiBfLmRpZmZlcmVuY2UoRmlsdGVyVXRpbHMuZ2V0QW5kRmlsdGVyKFVzZXJNYW5hZ2VtZW50LnVzZXJzLCAnZ2FtZXMnLCBxdWVyeSksICRzY29wZS5pdGVtLmdhbWVzKTtcbiAgJHNjb3BlLmdldENoYXJhY3RlcnMgPSAocXVlcnkgPSAnJykgPT4gXy5kaWZmZXJlbmNlKEZpbHRlclV0aWxzLmdldEFuZEZpbHRlcihVc2VyTWFuYWdlbWVudC51c2VycywgJ2NoYXJhY3RlcnMnLCBxdWVyeSksICRzY29wZS5pdGVtLmNoYXJhY3RlcnMpO1xuXG4gICRzY29wZS5pdGVtID0gXy5leHRlbmQoe1xuICAgIGFsaWFzZXM6IFtdLFxuICAgIGdhbWVzOiBbXSxcbiAgICBjaGFyYWN0ZXJzOiBbXVxuICB9LCBwbGF5ZXIpO1xuXG4gICRzY29wZS5hZGRJdGVtID0gKCkgPT4ge1xuICAgICRzY29wZS5pdGVtLmZvcm0uJHNldFN1Ym1pdHRlZCgpO1xuXG4gICAgaWYoJHNjb3BlLml0ZW0uZm9ybS4kdmFsaWQpIHtcbiAgICAgIHN1Y2Nlc3MoXy5vbWl0KCRzY29wZS5pdGVtLCAnZm9ybScpKTtcbiAgICB9XG4gIH07XG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi9hcHAnO1xuXG5zaXRlLmNvbnRyb2xsZXIoJ2V2ZW50TWFuYWdlQ29udHJvbGxlcicsICgkc2NvcGUsIFNpZGViYXJNYW5hZ2VtZW50LCBFbnN1cmVMb2dnZWRJbiwgRXZlbnRNYW5hZ2VtZW50LCBDdXJyZW50RXZlbnRzKSA9PiB7XG4gIFNpZGViYXJNYW5hZ2VtZW50Lmhhc1NpZGViYXIgPSB0cnVlO1xuICBFbnN1cmVMb2dnZWRJbi5jaGVjaygpO1xuXG4gICRzY29wZS5ldmVudHMgPSBbXTtcbiAgJHNjb3BlLnZpc2libGVFdmVudHMgPSBbXTtcbiAgJHNjb3BlLnNlbGVjdGVkID0gW107XG5cbiAgJHNjb3BlLmRhdGF0YWJsZSA9IHtcbiAgICBmaWx0ZXI6ICcnLFxuICAgIG9yZGVyOiAnLW5hbWUnLFxuICAgIGxpbWl0OiAxMCxcbiAgICBwYWdlOiAxLFxuICAgIGJvb2ttYXJrOiAxXG4gIH07XG5cbiAgJHNjb3BlLmZpbHRlciA9IHsgb3B0aW9uczogeyB0aHJvdHRsZTogNTAwIH0gfTtcblxuICAkc2NvcGUuaGlkZVNlYXJjaCA9ICgpID0+IHtcbiAgICAkc2NvcGUuZGF0YXRhYmxlLmZpbHRlciA9ICcnO1xuICAgICRzY29wZS5maWx0ZXIuc2hvdyA9IGZhbHNlO1xuICAgIGlmKCRzY29wZS5maWx0ZXIuZm9ybS4kZGlydHkpIHtcbiAgICAgICRzY29wZS5maWx0ZXIuZm9ybS4kc2V0UHJpc3RpbmUoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZmlsdGVyV2F0Y2ggPSAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XG4gICAgaWYoIW9sZFZhbHVlKSB7XG4gICAgICAkc2NvcGUuZGF0YXRhYmxlLmJvb2ttYXJrID0gJHNjb3BlLmRhdGF0YWJsZS5wYWdlO1xuICAgIH1cblxuICAgIGlmKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgJHNjb3BlLmRhdGF0YWJsZS5wYWdlID0gMTtcbiAgICB9XG5cbiAgICBpZighbmV3VmFsdWUpIHtcbiAgICAgICRzY29wZS5kYXRhdGFibGUucGFnZSA9ICRzY29wZS5kYXRhdGFibGUuYm9va21hcms7XG4gICAgfVxuXG4gICAgJHNjb3BlLmdldEV2ZW50cygpO1xuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goJ2RhdGF0YWJsZS5maWx0ZXInLCBmaWx0ZXJXYXRjaCk7XG5cbiAgJHNjb3BlLnRvZ2dsZVNob3dBcmNoaXZlZCA9ICgpID0+IHtcbiAgICAkc2NvcGUuc2hvd0FyY2hpdmVkID0gISRzY29wZS5zaG93QXJjaGl2ZWQ7XG4gICAgJHNjb3BlLmdldEV2ZW50cygpO1xuICB9O1xuXG4gICRzY29wZS5nZXRFdmVudHMgPSAoKSA9PiAkc2NvcGUudmlzaWJsZUV2ZW50cyA9IEV2ZW50TWFuYWdlbWVudC5maWx0ZXJFdmVudHMoJHNjb3BlLmV2ZW50cywgJHNjb3BlLmRhdGF0YWJsZSwgJHNjb3BlLnNob3dBcmNoaXZlZCk7XG5cbiAgJHNjb3BlLmFkZEl0ZW0gPSAoZXZlbnQpID0+IHtcbiAgICBFdmVudE1hbmFnZW1lbnQuYWRkSXRlbShldmVudCwgbmV3RXZlbnQgPT4ge1xuICAgICAgJHNjb3BlLmV2ZW50cy4kYWRkKG5ld0V2ZW50KTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuZWRpdEl0ZW0gPSAoZXZlbnQpID0+IHtcbiAgICBFdmVudE1hbmFnZW1lbnQuZWRpdEl0ZW0oZXZlbnQsICRzY29wZS5zZWxlY3RlZFswXSwgb2xkRXZlbnQgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9ICRzY29wZS5ldmVudHMuJGdldFJlY29yZChvbGRFdmVudC4kaWQpO1xuICAgICAgXy5leHRlbmQoaXRlbSwgb2xkRXZlbnQpO1xuICAgICAgJHNjb3BlLmV2ZW50cy4kc2F2ZShpdGVtKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUucmVtb3ZlSXRlbSA9IChldmVudCkgPT4ge1xuICAgIEV2ZW50TWFuYWdlbWVudC5yZW1vdmVJdGVtKGV2ZW50LCAkc2NvcGUuc2VsZWN0ZWQsICgpID0+IHtcbiAgICAgIF8uZWFjaCgkc2NvcGUuc2VsZWN0ZWQsIGV2ZW50ID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9ICRzY29wZS5ldmVudHMuJGdldFJlY29yZChldmVudC4kaWQpO1xuICAgICAgICAkc2NvcGUuZXZlbnRzLiRyZW1vdmUoaXRlbSk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLnNlbGVjdGVkID0gW107XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLmFyY2hpdmVJdGVtID0gKGV2ZW50KSA9PiB7XG4gICAgRXZlbnRNYW5hZ2VtZW50LmFyY2hpdmVJdGVtKGV2ZW50LCAkc2NvcGUuc2VsZWN0ZWQsICgpID0+IHtcbiAgICAgIF8uZWFjaCgkc2NvcGUuc2VsZWN0ZWQsIGV2ZW50ID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9ICRzY29wZS5ldmVudHMuJGdldFJlY29yZChldmVudC4kaWQpO1xuICAgICAgICBpdGVtLmFyY2hpdmVkID0gIWl0ZW0uYXJjaGl2ZWQ7XG4gICAgICAgICRzY29wZS5ldmVudHMuJHNhdmUoaXRlbSk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLnNlbGVjdGVkID0gW107XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLmxvYWRFdmVudHMgPSAoKSA9PiB7XG4gICAgJHNjb3BlLmV2ZW50cyA9IEN1cnJlbnRFdmVudHM7XG4gICAgJHNjb3BlLmV2ZW50cy4kbG9hZGVkKCRzY29wZS5nZXRFdmVudHMpO1xuICAgICRzY29wZS5ldmVudHMuJHdhdGNoKCRzY29wZS5nZXRFdmVudHMpO1xuICB9O1xuXG4gICRzY29wZS5sb2FkRXZlbnRzKCk7XG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi9hcHAnO1xuXG5zaXRlLmNvbnRyb2xsZXIoJ2hvbWVDb250cm9sbGVyJywgKCRzY29wZSwgU2lkZWJhck1hbmFnZW1lbnQpID0+IHtcbiAgU2lkZWJhck1hbmFnZW1lbnQuaGFzU2lkZWJhciA9IGZhbHNlO1xuXG4gICRzY29wZS5ibG9ja3MgPSBbXG4gICAge1xuICAgICAgbmFtZTogJ1RvdXJuYW1lbnQgTWFuYWdlbWVudCcsXG4gICAgICBpbmZvOiAnR2VuZXJhdGUgc2luZ2xlIG9yIGRvdWJsZSBlbGltaW5hdGlvbiBicmFja2V0cyB3aXRoIGVhc2UuJyxcbiAgICAgIGljb246ICdhc3NpZ25tZW50J1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1BsYXllciBDYXRhbG9nJyxcbiAgICAgIGluZm86ICdLZWVwIHRyYWNrIG9mIGFsbCB0aGUgaW1wb3J0YW50IGluZm8gLSB3aW5zLCBsb3NzZXMsIG5hbWVzLCBhbGlhc2VzLCBhbmQgbW9yZS4nLFxuICAgICAgaWNvbjogJ2FjY2Vzc2liaWxpdHknXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnQnJvYWRjYXN0aW5nJyxcbiAgICAgIGluZm86ICdXaGVuIHlvdVxcJ3JlIG9ubGluZSwgc2hhcmUgYW55IG9yIGFsbCBvZiB5b3VyIHRvdXJuYW1lbnQgYnJhY2tldHMgd2l0aCB0aGUgd29ybGQuJyxcbiAgICAgIGljb246ICdzZXR0aW5nc19pbnB1dF9hbnRlbm5hJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ09mZmxpbmUgQ2FwYWJpbGl0eScsXG4gICAgICBpbmZvOiAnWW91IGNhbiB1c2UgT3BlbkNoYWxsZW5nZSB3aXRob3V0IGFuIGludGVybmV0IGNvbm5lY3Rpb24uIFdoZW4geW91IGdldCBhIHNpZ25hbCwgT3BlbkNoYWxsZW5nZSB3aWxsIHNhdmUgdGhlIGRhdGEgYXV0b21hdGljYWxseS4nLFxuICAgICAgaWNvbjogJ2Rlc2t0b3Bfd2luZG93cydcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdDb2xsYWJvcmF0aW9uJyxcbiAgICAgIGluZm86ICdXb3JraW5nIHdpdGggYSBncm91cD8gTGV0IHRoZW0gaGF2ZSBhY2Nlc3MgdG8geW91ciBwbGF5ZXIgY2F0YWxvZy4nLFxuICAgICAgaWNvbjogJ2dyb3VwJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ0Rpc3RyaWJ1dGlvbicsXG4gICAgICBpbmZvOiAnT3BlbkNoYWxsZW5nZSBjYW4gZXhwb3J0IHRvIFBERiBmb3IgZWFzeSBwYXBlciBkaXN0cmlidXRpb24uJyxcbiAgICAgIGljb246ICdmaWxlX2Rvd25sb2FkJ1xuICAgIH1cbiAgXTtcbn0pOyIsImltcG9ydCBzaXRlIGZyb20gJy4uL2FwcCc7XG5cbnNpdGUuY29udHJvbGxlcignbmF2Q29udHJvbGxlcicsICgkc2NvcGUsICRtZFNpZGVuYXYsIEF1dGgsIERpc2Nvbm5lY3ROb3RpZmllciwgU2lkZWJhck1hbmFnZW1lbnQsIFVzZXJTdGF0dXMpID0+IHtcblxuICAkc2NvcGUudG9nZ2xlTGlzdCA9ICgpID0+IHtcbiAgICAkbWRTaWRlbmF2KCdsZWZ0JykudG9nZ2xlKCk7XG4gIH07XG5cbiAgJHNjb3BlLnNpZGViYXIgPSBTaWRlYmFyTWFuYWdlbWVudDtcblxuICAkc2NvcGUuYXV0aCA9IEF1dGg7XG5cbiAgRGlzY29ubmVjdE5vdGlmaWVyLnRoZW4obnVsbCwgbnVsbCwgKGNvbm5lY3RlZCkgPT4ge1xuICAgICRzY29wZS5jb25uZWN0ZWQgPSBjb25uZWN0ZWQ7XG4gIH0pO1xuXG4gICRzY29wZS51c2VyU3RhdHVzID0gVXNlclN0YXR1cztcblxufSk7IiwiaW1wb3J0IHNpdGUgZnJvbSAnLi4vYXBwJztcblxuc2l0ZS5jb250cm9sbGVyKCdyb290Q29udHJvbGxlcicsICgkc2NvcGUsICRtZFNpZGVuYXYsIFVzZXJTdGF0dXMsIFNpZGViYXJNYW5hZ2VtZW50KSA9PiB7XG4gICRzY29wZS51c2VyU3RhdHVzID0gVXNlclN0YXR1cztcbiAgJHNjb3BlLnNpZGViYXIgPSBTaWRlYmFyTWFuYWdlbWVudDtcbiAgJHNjb3BlLmRpc21pc3NTaWRlYmFyID0gKCkgPT4gJG1kU2lkZW5hdignbGVmdCcpLnRvZ2dsZSgpO1xufSk7IiwiaW1wb3J0IHNpdGUgZnJvbSAnLi4vYXBwJztcblxuc2l0ZS5jb250cm9sbGVyKCd0b3VybmFtZW50TWFuYWdlQ29udHJvbGxlcicsICgkc2NvcGUsIFNpZGViYXJNYW5hZ2VtZW50LCBFbnN1cmVMb2dnZWRJbiwgVG91cm5hbWVudE1hbmFnZW1lbnQsIEN1cnJlbnRUb3VybmFtZW50cykgPT4ge1xuICBTaWRlYmFyTWFuYWdlbWVudC5oYXNTaWRlYmFyID0gdHJ1ZTtcbiAgRW5zdXJlTG9nZ2VkSW4uY2hlY2soKTtcblxuICAkc2NvcGUudG91cm5hbWVudHMgPSBbXTtcbiAgJHNjb3BlLnZpc2libGVUb3VybmFtZW50cyA9IFtdO1xuICAkc2NvcGUuc2VsZWN0ZWQgPSBbXTtcblxuICAkc2NvcGUuZGF0YXRhYmxlID0ge1xuICAgIGZpbHRlcjogJycsXG4gICAgb3JkZXI6ICctbmFtZScsXG4gICAgbGltaXQ6IDEwLFxuICAgIHBhZ2U6IDEsXG4gICAgYm9va21hcms6IDFcbiAgfTtcblxuICAkc2NvcGUuZmlsdGVyID0geyBvcHRpb25zOiB7IHRocm90dGxlOiA1MDAgfSB9O1xuXG4gICRzY29wZS5oaWRlU2VhcmNoID0gKCkgPT4ge1xuICAgICRzY29wZS5kYXRhdGFibGUuZmlsdGVyID0gJyc7XG4gICAgJHNjb3BlLmZpbHRlci5zaG93ID0gZmFsc2U7XG4gICAgaWYoJHNjb3BlLmZpbHRlci5mb3JtLiRkaXJ0eSkge1xuICAgICAgJHNjb3BlLmZpbHRlci5mb3JtLiRzZXRQcmlzdGluZSgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBmaWx0ZXJXYXRjaCA9IChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcbiAgICBpZighb2xkVmFsdWUpIHtcbiAgICAgICRzY29wZS5kYXRhdGFibGUuYm9va21hcmsgPSAkc2NvcGUuZGF0YXRhYmxlLnBhZ2U7XG4gICAgfVxuXG4gICAgaWYobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAkc2NvcGUuZGF0YXRhYmxlLnBhZ2UgPSAxO1xuICAgIH1cblxuICAgIGlmKCFuZXdWYWx1ZSkge1xuICAgICAgJHNjb3BlLmRhdGF0YWJsZS5wYWdlID0gJHNjb3BlLmRhdGF0YWJsZS5ib29rbWFyaztcbiAgICB9XG5cbiAgICAkc2NvcGUuZ2V0VG91cm5hbWVudHMoKTtcbiAgfTtcblxuICAkc2NvcGUuJHdhdGNoKCdkYXRhdGFibGUuZmlsdGVyJywgZmlsdGVyV2F0Y2gpO1xuXG4gICRzY29wZS50b2dnbGVTaG93QXJjaGl2ZWQgPSAoKSA9PiB7XG4gICAgJHNjb3BlLnNob3dBcmNoaXZlZCA9ICEkc2NvcGUuc2hvd0FyY2hpdmVkO1xuICAgICRzY29wZS5nZXRUb3VybmFtZW50cygpO1xuICB9O1xuXG4gICRzY29wZS5nZXRUb3VybmFtZW50cyA9ICgpID0+ICRzY29wZS52aXNpYmxlVG91cm5hbWVudHMgPSBUb3VybmFtZW50TWFuYWdlbWVudC5maWx0ZXJUb3VybmFtZW50cygkc2NvcGUudG91cm5hbWVudHMsICRzY29wZS5kYXRhdGFibGUsICRzY29wZS5zaG93QXJjaGl2ZWQpO1xuXG4gICRzY29wZS5hZGRJdGVtID0gKGV2ZW50KSA9PiB7XG4gICAgVG91cm5hbWVudE1hbmFnZW1lbnQuYWRkSXRlbShldmVudCwgbmV3VG91cm5hbWVudCA9PiB7XG4gICAgICAkc2NvcGUudG91cm5hbWVudHMuJGFkZChuZXdUb3VybmFtZW50KTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUudG91cm5hbWVudE5hbWUgPSBUb3VybmFtZW50TWFuYWdlbWVudC5nZXRUb3VybmFtZW50TmFtZUZyb21JZDtcblxuICAkc2NvcGUuZWRpdEl0ZW0gPSAoZXZlbnQpID0+IHtcbiAgICBUb3VybmFtZW50TWFuYWdlbWVudC5lZGl0SXRlbShldmVudCwgJHNjb3BlLnNlbGVjdGVkWzBdLCBvbGRUb3VybmFtZW50ID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSAkc2NvcGUuZXZlbnRzLiRnZXRSZWNvcmQob2xkVG91cm5hbWVudC4kaWQpO1xuICAgICAgXy5leHRlbmQoaXRlbSwgb2xkVG91cm5hbWVudCk7XG4gICAgICAkc2NvcGUudG91cm5hbWVudHMuJHNhdmUoaXRlbSk7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnJlbW92ZUl0ZW0gPSAoZXZlbnQpID0+IHtcbiAgICBUb3VybmFtZW50TWFuYWdlbWVudC5yZW1vdmVJdGVtKGV2ZW50LCAkc2NvcGUuc2VsZWN0ZWQsICgpID0+IHtcbiAgICAgIF8uZWFjaCgkc2NvcGUuc2VsZWN0ZWQsIHRvdXJuYW1lbnQgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gJHNjb3BlLnRvdXJuYW1lbnRzLiRnZXRSZWNvcmQodG91cm5hbWVudC4kaWQpO1xuICAgICAgICAkc2NvcGUudG91cm5hbWVudHMuJHJlbW92ZShpdGVtKTtcbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuc2VsZWN0ZWQgPSBbXTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuYXJjaGl2ZUl0ZW0gPSAoZXZlbnQpID0+IHtcbiAgICBUb3VybmFtZW50TWFuYWdlbWVudC5hcmNoaXZlSXRlbShldmVudCwgJHNjb3BlLnNlbGVjdGVkLCAoKSA9PiB7XG4gICAgICBfLmVhY2goJHNjb3BlLnNlbGVjdGVkLCB0b3VybmFtZW50ID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9ICRzY29wZS50b3VybmFtZW50cy4kZ2V0UmVjb3JkKHRvdXJuYW1lbnQuJGlkKTtcbiAgICAgICAgaXRlbS5hcmNoaXZlZCA9ICFpdGVtLmFyY2hpdmVkO1xuICAgICAgICAkc2NvcGUudG91cm5hbWVudHMuJHNhdmUoaXRlbSk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLnNlbGVjdGVkID0gW107XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLmxvYWRUb3VybmFtZW50cyA9ICgpID0+IHtcbiAgICAkc2NvcGUudG91cm5hbWVudHMgPSBDdXJyZW50VG91cm5hbWVudHM7XG4gICAgJHNjb3BlLnRvdXJuYW1lbnRzLiRsb2FkZWQoJHNjb3BlLmdldFRvdXJuYW1lbnRzKTtcbiAgICAkc2NvcGUudG91cm5hbWVudHMuJHdhdGNoKCRzY29wZS5nZXRUb3VybmFtZW50cyk7XG4gIH07XG5cbiAgJHNjb3BlLmxvYWRUb3VybmFtZW50cygpO1xufSk7IiwiaW1wb3J0IHNpdGUgZnJvbSAnLi4vYXBwJztcblxuc2l0ZS5jb250cm9sbGVyKCd0b3VybmFtZW50U2lkZWJhckNvbnRyb2xsZXInLCAoJHNjb3BlLCAkc3RhdGUsICRtZFNpZGVuYXYpID0+IHtcbiAgJHNjb3BlLmV2ZW50cyA9IFtcbiAgICB7XG4gICAgICBuYW1lOiAnT0dTIFRoIDkvMjEnLFxuICAgICAgdG91cm5hbWVudHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdUb3VybmFtZW50IDEnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnVG91cm5hbWVudCAyJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfVxuICBdO1xuXG4gICRzY29wZS5uYXZpZ2F0ZVRvID0gKHN0YXRlKSA9PiB7XG4gICAgJHN0YXRlLmdvKHN0YXRlKTtcbiAgICAkbWRTaWRlbmF2KCdsZWZ0JykudG9nZ2xlKCk7XG4gIH07XG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi9hcHAnO1xuXG5zaXRlLmNvbnRyb2xsZXIoJ3VzZXJNYW5hZ2VDb250cm9sbGVyJywgKCRzY29wZSwgJGZpcmViYXNlQXJyYXksICRmaXJlYmFzZU9iamVjdCwgRmlyZWJhc2VVUkwsIElucHV0UHJvbXB0LCBVc2VyU3RhdHVzLCBTaGFyZU1hbmFnZW1lbnQsIFNldE1hbmFnZW1lbnQsIFNpZGViYXJNYW5hZ2VtZW50LCBFbnN1cmVMb2dnZWRJbiwgVXNlck1hbmFnZW1lbnQpID0+IHtcblxuICBTaWRlYmFyTWFuYWdlbWVudC5oYXNTaWRlYmFyID0gdHJ1ZTtcbiAgY29uc3QgYXV0aERhdGEgPSBFbnN1cmVMb2dnZWRJbi5jaGVjaygpO1xuXG4gICRzY29wZS5kYXRhdGFibGUgPSB7XG4gICAgZmlsdGVyOiAnJyxcbiAgICBvcmRlcjogJy1uYW1lJyxcbiAgICBsaW1pdDogMTAsXG4gICAgcGFnZTogMSxcbiAgICBib29rbWFyazogMVxuICB9O1xuXG4gICRzY29wZS5maWx0ZXIgPSB7IG9wdGlvbnM6IHsgdGhyb3R0bGU6IDUwMCB9IH07XG5cbiAgJHNjb3BlLnVzZXJzID0gW107XG4gICRzY29wZS52aXNpYmxlVXNlcnMgPSBbXTtcbiAgJHNjb3BlLnNlbGVjdGVkID0gW107XG4gICRzY29wZS5saXN0S2V5cyA9IFtdO1xuICAkc2NvcGUuc2hhcmVkTGlzdHMgPSBbXTtcblxuXG4gICRzY29wZS51c2VyRGF0YSA9IFVzZXJTdGF0dXM7XG5cbiAgJHNjb3BlLmFkZEl0ZW0gPSAoZXZlbnQpID0+IHtcbiAgICBVc2VyTWFuYWdlbWVudC5hZGRJdGVtKGV2ZW50LCBuZXdQbGF5ZXIgPT4ge1xuICAgICAgJHNjb3BlLnVzZXJzLiRhZGQobmV3UGxheWVyKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuZWRpdEl0ZW0gPSAoZXZlbnQpID0+IHtcbiAgICBVc2VyTWFuYWdlbWVudC5lZGl0SXRlbShldmVudCwgJHNjb3BlLnNlbGVjdGVkWzBdLCBvbGRQbGF5ZXIgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9ICRzY29wZS51c2Vycy4kZ2V0UmVjb3JkKG9sZFBsYXllci4kaWQpO1xuICAgICAgXy5leHRlbmQoaXRlbSwgb2xkUGxheWVyKTtcbiAgICAgICRzY29wZS51c2Vycy4kc2F2ZShpdGVtKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUucmVtb3ZlSXRlbSA9IChldmVudCkgPT4ge1xuICAgIFVzZXJNYW5hZ2VtZW50LnJlbW92ZUl0ZW0oZXZlbnQsICRzY29wZS5zZWxlY3RlZCwgKCkgPT4ge1xuICAgICAgXy5lYWNoKCRzY29wZS5zZWxlY3RlZCwgcGxheWVyID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9ICRzY29wZS51c2Vycy4kZ2V0UmVjb3JkKHBsYXllci4kaWQpO1xuICAgICAgICAkc2NvcGUudXNlcnMuJHJlbW92ZShpdGVtKTtcbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuc2VsZWN0ZWQgPSBbXTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUudmlld0l0ZW0gPSBVc2VyTWFuYWdlbWVudC52aWV3SXRlbTtcblxuICAkc2NvcGUuZ2V0VXNlcnMgPSAoKSA9PiB7XG4gICAgJHNjb3BlLnZpc2libGVVc2VycyA9IFVzZXJNYW5hZ2VtZW50LmZpbHRlclVzZXJzKCRzY29wZS51c2VycywgJHNjb3BlLmRhdGF0YWJsZSk7XG4gIH07XG5cbiAgJHNjb3BlLmhpZGVTZWFyY2ggPSAoKSA9PiB7XG4gICAgJHNjb3BlLmRhdGF0YWJsZS5maWx0ZXIgPSAnJztcbiAgICAkc2NvcGUuZmlsdGVyLnNob3cgPSBmYWxzZTtcbiAgICBpZigkc2NvcGUuZmlsdGVyLmZvcm0uJGRpcnR5KSB7XG4gICAgICAkc2NvcGUuZmlsdGVyLmZvcm0uJHNldFByaXN0aW5lKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZpbHRlcldhdGNoID0gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xuICAgIGlmKCFvbGRWYWx1ZSkge1xuICAgICAgJHNjb3BlLmRhdGF0YWJsZS5ib29rbWFyayA9ICRzY29wZS5kYXRhdGFibGUucGFnZTtcbiAgICB9XG5cbiAgICBpZihuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICRzY29wZS5kYXRhdGFibGUucGFnZSA9IDE7XG4gICAgfVxuXG4gICAgaWYoIW5ld1ZhbHVlKSB7XG4gICAgICAkc2NvcGUuZGF0YXRhYmxlLnBhZ2UgPSAkc2NvcGUuZGF0YXRhYmxlLmJvb2ttYXJrO1xuICAgIH1cblxuICAgICRzY29wZS5nZXRVc2VycygpO1xuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goJ2RhdGF0YWJsZS5maWx0ZXInLCBmaWx0ZXJXYXRjaCk7XG5cbiAgJHNjb3BlLmNoYW5nZVBsYXllclNldCA9IChuYW1lID0gJ2RlZmF1bHQnKSA9PiB7XG5cbiAgICBjb25zdCBteVNldCA9IF8uZmluZFdoZXJlKCRzY29wZS5saXN0S2V5cywgeyBzaG9ydDogbmFtZSB9KTtcbiAgICBVc2VyU3RhdHVzLmZpcmViYXNlLnBsYXllclNldCA9IG5hbWU7XG4gICAgVXNlclN0YXR1cy5maXJlYmFzZS5wbGF5ZXJTZXRVaWQgPSBteVNldCA/IG15U2V0LnVpZCA6IGF1dGhEYXRhLnVpZDtcblxuICAgICRzY29wZS5pc01pbmUgPSBVc2VyU3RhdHVzLmZpcmViYXNlLnBsYXllclNldFVpZCA9PT0gYXV0aERhdGEudWlkO1xuICAgIFVzZXJTdGF0dXMuZmlyZWJhc2UuJHNhdmUoKTtcblxuICAgICRzY29wZS5zZXRDdXJyZW50UGxheWVyU2V0KG5hbWUpO1xuICB9O1xuXG4gICRzY29wZS5zZXRDdXJyZW50UGxheWVyU2V0ID0gKG5hbWUgPSAnZGVmYXVsdCcpID0+IHtcbiAgICAkc2NvcGUuc2V0T2JqZWN0ID0gJGZpcmViYXNlT2JqZWN0KG5ldyBGaXJlYmFzZShgJHtGaXJlYmFzZVVSTH0vdXNlcnMvJHtVc2VyU3RhdHVzLmZpcmViYXNlLnBsYXllclNldFVpZH0vcGxheWVycy8ke25hbWV9YCkpO1xuICAgICRzY29wZS5zZXRPYmplY3QuJGxvYWRlZCgoKSA9PiB7XG4gICAgICBpZighJHNjb3BlLnNldE9iamVjdC5iYXNlbmFtZSkge1xuICAgICAgICAkc2NvcGUuc2V0T2JqZWN0LmJhc2VuYW1lID0gbmFtZTtcbiAgICAgICAgJHNjb3BlLnNldE9iamVjdC4kc2F2ZSgpO1xuICAgICAgfVxuICAgICAgaWYoISRzY29wZS5zZXRPYmplY3QucmVhbE5hbWUpIHtcbiAgICAgICAgJHNjb3BlLnNldE9iamVjdC5yZWFsTmFtZSA9IG5hbWU7XG4gICAgICAgICRzY29wZS5zZXRPYmplY3QuJHNhdmUoKTtcbiAgICAgIH1cbiAgICAgIGlmKCEkc2NvcGUuc2V0T2JqZWN0Lm93bmVyKSB7XG4gICAgICAgICRzY29wZS5zZXRPYmplY3Qub3duZXIgPSBhdXRoRGF0YS51aWQ7XG4gICAgICAgICRzY29wZS5zZXRPYmplY3QuJHNhdmUoKTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5sb2FkVXNlckxpc3QoKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuaGFzTXVsdGlwbGVTZXRzID0gKCkgPT4gJHNjb3BlLmxpc3RLZXlzLmxlbmd0aCA+IDE7XG5cbiAgJHNjb3BlLm93bnNDdXJyZW50U2V0ID0gKCkgPT4gJHNjb3BlLnNldE9iamVjdCA/ICRzY29wZS5zZXRPYmplY3Qub3duZXIgPT09IGF1dGhEYXRhLnVpZCA6IGZhbHNlO1xuXG4gICRzY29wZS5kb05ld1NldCA9IChldmVudCkgPT4gU2V0TWFuYWdlbWVudC5uZXdTZXQoZXZlbnQsIF8ucGx1Y2soJHNjb3BlLmxpc3RLZXlzLCAnc2hvcnQnKSwgJHNjb3BlLmNoYW5nZVBsYXllclNldCk7XG5cbiAgJHNjb3BlLmRvUmVuYW1lID0gKGV2ZW50KSA9PiBTZXRNYW5hZ2VtZW50LnJlbmFtZVNldChldmVudCwgJHNjb3BlLnNldE9iamVjdC5yZWFsTmFtZSwgJHNjb3BlLnJlbmFtZUN1cnJlbnRQbGF5ZXJTZXQpO1xuXG4gICRzY29wZS5kb0RlbGV0ZSA9IChldmVudCkgPT4gU2V0TWFuYWdlbWVudC5kZWxldGVTZXQoZXZlbnQsICRzY29wZS5yZW1vdmVTZXQpO1xuXG4gICRzY29wZS5kb0NoYW5nZSA9IChldmVudCkgPT4gU2V0TWFuYWdlbWVudC5jaGFuZ2VTZXQoZXZlbnQsICRzY29wZS5zZXRPYmplY3QucmVhbE5hbWUsICRzY29wZS5saXN0S2V5cywgJHNjb3BlLmNoYW5nZVNldEZyb21SZWFsbmFtZSk7XG5cbiAgJHNjb3BlLmRvT3JPcGVuID0gKGV2ZW50KSA9PiAkc2NvcGUuaXNPcGVuID8gJHNjb3BlLmRvQ2hhbmdlKGV2ZW50KSA6ICRzY29wZS5pc09wZW4gPSB0cnVlO1xuXG4gICRzY29wZS5vcGVuU2hhcmVEaWFsb2cgPSAoZXZlbnQpID0+IFNldE1hbmFnZW1lbnQuc2hhcmVTZXQoZXZlbnQsICRzY29wZS5zZXRPYmplY3QucmVhbE5hbWUsICRzY29wZS5zZXRPYmplY3Quc2hhcmVkV2l0aCwgJHNjb3BlLnVwZGF0ZVNoYXJlU2V0dGluZ3MpO1xuXG4gICRzY29wZS5jaGFuZ2VTZXRGcm9tUmVhbG5hbWUgPSAobmV3U2V0KSA9PiAkc2NvcGUuY2hhbmdlUGxheWVyU2V0KF8uZmluZFdoZXJlKCRzY29wZS5saXN0S2V5cywgeyByZWFsTmFtZTogbmV3U2V0IH0pLnNob3J0KTtcblxuICAkc2NvcGUudXBkYXRlU2hhcmVTZXR0aW5ncyA9IChzaGFyZURhdGEpID0+IHtcbiAgICBjb25zdCBvbGRTaGFyZWRXaXRoID0gXy5rZXlzKCRzY29wZS5zZXRPYmplY3Quc2hhcmVJRHMpO1xuXG4gICAgU2hhcmVNYW5hZ2VtZW50Lm1hbmFnZVNvcnRpbmcob2xkU2hhcmVkV2l0aCwgc2hhcmVEYXRhLCAkc2NvcGUuc2V0T2JqZWN0LmJhc2VuYW1lKTtcblxuICAgICRzY29wZS5zZXRPYmplY3Quc2hhcmVJRHMgPSBfLnJlZHVjZShfLnBsdWNrKHNoYXJlRGF0YSwgJ3VpZCcpLCAocHJldiwgY3VyKSA9PiB7XG4gICAgICBwcmV2W2N1cl0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHByZXY7XG4gICAgfSwge30pO1xuICAgICRzY29wZS5zZXRPYmplY3Quc2hhcmVkV2l0aCA9IHNoYXJlRGF0YTtcbiAgICAkc2NvcGUuc2V0T2JqZWN0LiRzYXZlKCk7XG4gIH07XG5cbiAgJHNjb3BlLnJlbW92ZVNldCA9ICgpID0+IHtcbiAgICBjb25zdCBvbGRTaGFyZWRXaXRoID0gXy5rZXlzKCRzY29wZS5zZXRPYmplY3Quc2hhcmVJRHMpO1xuICAgIFNoYXJlTWFuYWdlbWVudC5tYW5hZ2VTb3J0aW5nKG9sZFNoYXJlZFdpdGgsIFtdLCAkc2NvcGUuc2V0T2JqZWN0LmJhc2VuYW1lKTtcblxuICAgICRzY29wZS5zZXRPYmplY3QuJHJlbW92ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgJHNjb3BlLmNoYW5nZVBsYXllclNldChfLnNhbXBsZSgkc2NvcGUubGlzdEtleXMpLnNob3J0KTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUucmVuYW1lQ3VycmVudFBsYXllclNldCA9IChuZXdOYW1lKSA9PiB7XG4gICAgaWYoIW5ld05hbWUpIHJldHVybjtcbiAgICAkc2NvcGUuc2V0T2JqZWN0LnJlYWxOYW1lID0gbmV3TmFtZTtcbiAgICAkc2NvcGUuc2V0T2JqZWN0LiRzYXZlKCk7XG4gIH07XG5cbiAgJHNjb3BlLmxvYWRVc2VyTGlzdCA9ICgpID0+IHtcbiAgICAkc2NvcGUudXNlcnMgPSBVc2VyTWFuYWdlbWVudC51c2VycyA9ICRmaXJlYmFzZUFycmF5KCRzY29wZS5zZXRPYmplY3QuJHJlZigpLmNoaWxkKCdsaXN0JykpO1xuICAgICRzY29wZS51c2Vycy4kbG9hZGVkKCRzY29wZS5nZXRVc2Vycyk7XG4gICAgJHNjb3BlLnVzZXJzLiR3YXRjaCgkc2NvcGUuZ2V0VXNlcnMpO1xuICB9O1xuXG4gICRzY29wZS5yZXNldExpc3RLZXlzID0gKCkgPT4ge1xuICAgICRzY29wZS5saXN0S2V5cyA9IF8ucmVqZWN0KF8ua2V5cygkc2NvcGUuYWxsTGlzdHMpLCAoa2V5KSA9PiBfLmNvbnRhaW5zKGtleSwgJyQnKSk7XG4gICAgJHNjb3BlLmxpc3RLZXlzID0gXy5tYXAoJHNjb3BlLmxpc3RLZXlzLCAoa2V5KSA9PiB7XG4gICAgICByZXR1cm4geyByZWFsTmFtZTogJHNjb3BlLmFsbExpc3RzW2tleV0ucmVhbE5hbWUsIHNob3J0OiBrZXksIHVpZDogYXV0aERhdGEudWlkLCBncm91cDogJ01pbmUnIH07XG4gICAgfSk7XG4gICAgJHNjb3BlLmxpc3RLZXlzID0gJHNjb3BlLmxpc3RLZXlzLmNvbmNhdCgkc2NvcGUuc2hhcmVkTGlzdHMpO1xuICB9O1xuXG4gICRzY29wZS5sb2FkQWxsTGlzdHMgPSAoKSA9PiB7XG4gICAgJHNjb3BlLmFsbExpc3RzID0gJGZpcmViYXNlT2JqZWN0KG5ldyBGaXJlYmFzZShgJHtGaXJlYmFzZVVSTH0vdXNlcnMvJHthdXRoRGF0YS51aWR9L3BsYXllcnNgKSk7XG4gICAgJHNjb3BlLmFsbExpc3RzLiR3YXRjaCgkc2NvcGUucmVzZXRMaXN0S2V5cyk7XG4gIH07XG5cbiAgJHNjb3BlLmxvYWRTaGFyZWRXaXRoTWUgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2hhcmVkV2l0aE1lID0gJGZpcmViYXNlT2JqZWN0KG5ldyBGaXJlYmFzZShgJHtGaXJlYmFzZVVSTH0vc2hhcmVzLyR7YXV0aERhdGEudWlkfWApKTtcbiAgICBzaGFyZWRXaXRoTWUuJHdhdGNoKCgpID0+IHtcbiAgICAgICRzY29wZS5zaGFyZWRMaXN0cyA9IFtdO1xuXG4gICAgICBfLmVhY2goXy5rZXlzKHNoYXJlZFdpdGhNZSksIChzaGFyZXIpID0+IHtcblxuICAgICAgICBpZihfLmNvbnRhaW5zKHNoYXJlciwgJyQnKSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBzaGFyZWRiYXNlID0gJGZpcmViYXNlT2JqZWN0KG5ldyBGaXJlYmFzZShgJHtGaXJlYmFzZVVSTH0vdXNlcnMvJHtzaGFyZXJ9YCkpO1xuXG4gICAgICAgIHNoYXJlZGJhc2UuJGxvYWRlZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIF8uZWFjaChzaGFyZWRXaXRoTWVbc2hhcmVyXSwgZG9jID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlbmFtZSA9IHNoYXJlZGJhc2UubmFtZTtcbiAgICAgICAgICAgIGNvbnN0IHJlYWxEb2MgPSBzaGFyZWRiYXNlLnBsYXllcnNbZG9jXTtcbiAgICAgICAgICAgICRzY29wZS5zaGFyZWRMaXN0cy5wdXNoKHsgcmVhbE5hbWU6IHJlYWxEb2MucmVhbE5hbWUsIHVpZDogc2hhcmVyLCBzaG9ydDogcmVhbERvYy5iYXNlbmFtZSwgZ3JvdXA6IGBTaGFyZWQgYnkgJHtzaGFyZW5hbWV9YCB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkc2NvcGUucmVzZXRMaXN0S2V5cygpO1xuXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLmxvYWQgPSAoKSA9PiB7XG4gICAgVXNlclN0YXR1cy5maXJlYmFzZS4kbG9hZGVkKCgpID0+IHtcbiAgICAgIGlmKCFVc2VyU3RhdHVzLmZpcmViYXNlLnBsYXllclNldCkge1xuICAgICAgICAkc2NvcGUuY2hhbmdlUGxheWVyU2V0KCdkZWZhdWx0Jyk7XG4gICAgICB9XG4gICAgICBpZighJHNjb3BlLnNldE9iamVjdCkge1xuICAgICAgICAkc2NvcGUuc2V0Q3VycmVudFBsYXllclNldChVc2VyU3RhdHVzLmZpcmViYXNlLnBsYXllclNldCk7XG4gICAgICB9XG4gICAgICAkc2NvcGUuaXNNaW5lID0gVXNlclN0YXR1cy5maXJlYmFzZS5wbGF5ZXJTZXRVaWQgPT09IGF1dGhEYXRhLnVpZDtcbiAgICB9KTtcbiAgICAkc2NvcGUubG9hZEFsbExpc3RzKCk7XG4gICAgJHNjb3BlLmxvYWRTaGFyZWRXaXRoTWUoKTtcbiAgfTtcblxuICAkc2NvcGUubG9hZCgpO1xuXG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi9hcHAnO1xuXG5zaXRlLmNvbnRyb2xsZXIoJ3VzZXJTZXR0aW5nc0NvbnRyb2xsZXInLCAoJHNjb3BlLCBTaWRlYmFyTWFuYWdlbWVudCwgRW5zdXJlTG9nZ2VkSW4sIEZpcmViYXNlVVJMLCAkZmlyZWJhc2VPYmplY3QsIFRvYXN0ZXIpID0+IHtcblxuICBTaWRlYmFyTWFuYWdlbWVudC5oYXNTaWRlYmFyID0gdHJ1ZTtcbiAgY29uc3QgYXV0aERhdGEgPSBFbnN1cmVMb2dnZWRJbi5jaGVjaygpO1xuXG4gICRzY29wZS5zaGFyZUlkID0gYnRvYShhdXRoRGF0YS51aWQpO1xuXG4gIGNvbnN0IGRhdGEgPSAkZmlyZWJhc2VPYmplY3QobmV3IEZpcmViYXNlKGAke0ZpcmViYXNlVVJMfS91c2Vycy8ke2F1dGhEYXRhLnVpZH1gKSk7XG5cbiAgY29uc3QgY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZCgnI2NvcHktaWQnKTtcbiAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgKCkgPT4ge1xuICAgIFRvYXN0ZXIuc2hvdyhgQ29waWVkIElEIHRvIGNsaXBib2FyZCFgKTtcbiAgfSk7XG5cbiAgJHNjb3BlLnNhdmUgPSAoKSA9PiB7XG4gICAgY29uc3QgaW1wb3J0YW50RGF0YSA9IHtcbiAgICAgIGV2ZW50czogZGF0YS5ldmVudHMsXG4gICAgICBwbGF5ZXJzOiBkYXRhLnBsYXllcnMsXG4gICAgICB0b3VybmFtZW50czogZGF0YS50b3VybmFtZW50c1xuICAgIH07XG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShpbXBvcnRhbnREYXRhKV0sIHsgdHlwZTogJ3RleHQvcGxhaW47Y2hhcnNldD11dGYtOCcgfSk7XG4gICAgc2F2ZUFzKGJsb2IsIGBpbmZvLSR7RGF0ZS5ub3coKX0ub3BlbmNoYWxsZW5nZWApO1xuICB9O1xufSk7IiwiaW1wb3J0IHNpdGUgZnJvbSAnLi9hcHAnO1xuXG5zaXRlLmNvbmZpZygoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikgPT4ge1xuXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblxuICAkc3RhdGVQcm92aWRlclxuICAgIC5zdGF0ZSgnaG9tZScsIHtcbiAgICAgIHVybDogJy8nLFxuICAgICAgdmlld3M6IHtcbiAgICAgICAgJ2NvbnRlbnRAJzogeyB0ZW1wbGF0ZVVybDogJy9ob21lJywgY29udHJvbGxlcjogJ2hvbWVDb250cm9sbGVyJyB9XG4gICAgICB9XG4gICAgfSlcbiAgICAuc3RhdGUoJ3VzZXJNYW5hZ2UnLCB7XG4gICAgICB1cmw6ICcvcGxheWVycycsXG4gICAgICB2aWV3czoge1xuICAgICAgICAnY29udGVudEAnOiB7IHRlbXBsYXRlVXJsOiAnL3VzZXItbWFuYWdlJywgY29udHJvbGxlcjogJ3VzZXJNYW5hZ2VDb250cm9sbGVyJyB9LFxuICAgICAgICAnc2lkZWJhckAnOiB7IHRlbXBsYXRlVXJsOiAnL3RvdXJuYW1lbnQtc2lkZWJhcicsIGNvbnRyb2xsZXI6ICd0b3VybmFtZW50U2lkZWJhckNvbnRyb2xsZXInIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIC5zdGF0ZSgnZXZlbnRNYW5hZ2UnLCB7XG4gICAgICB1cmw6ICcvZXZlbnRzJyxcbiAgICAgIHZpZXdzOiB7XG4gICAgICAgICdjb250ZW50QCc6IHsgdGVtcGxhdGVVcmw6ICcvZXZlbnQtbWFuYWdlJywgY29udHJvbGxlcjogJ2V2ZW50TWFuYWdlQ29udHJvbGxlcicgfSxcbiAgICAgICAgJ3NpZGViYXJAJzogeyB0ZW1wbGF0ZVVybDogJy90b3VybmFtZW50LXNpZGViYXInLCBjb250cm9sbGVyOiAndG91cm5hbWVudFNpZGViYXJDb250cm9sbGVyJyB9XG4gICAgICB9XG4gICAgfSlcbiAgICAuc3RhdGUoJ3RvdXJuYW1lbnRNYW5hZ2UnLCB7XG4gICAgICB1cmw6ICcvdG91cm5hbWVudHMnLFxuICAgICAgdmlld3M6IHtcbiAgICAgICAgJ2NvbnRlbnRAJzogeyB0ZW1wbGF0ZVVybDogJy90b3VybmFtZW50LW1hbmFnZScsIGNvbnRyb2xsZXI6ICd0b3VybmFtZW50TWFuYWdlQ29udHJvbGxlcicgfSxcbiAgICAgICAgJ3NpZGViYXJAJzogeyB0ZW1wbGF0ZVVybDogJy90b3VybmFtZW50LXNpZGViYXInLCBjb250cm9sbGVyOiAndG91cm5hbWVudFNpZGViYXJDb250cm9sbGVyJyB9XG4gICAgICB9XG4gICAgfSlcbiAgICAuc3RhdGUoJ3VzZXJTZXR0aW5ncycsIHtcbiAgICAgIHVybDogJy9zZXR0aW5ncycsXG4gICAgICB2aWV3czoge1xuICAgICAgICAnY29udGVudEAnOiB7IHRlbXBsYXRlVXJsOiAnL3VzZXItc2V0dGluZ3MnLCBjb250cm9sbGVyOiAndXNlclNldHRpbmdzQ29udHJvbGxlcicgfSxcbiAgICAgICAgJ3NpZGViYXJAJzogeyB0ZW1wbGF0ZVVybDogJy90b3VybmFtZW50LXNpZGViYXInLCBjb250cm9sbGVyOiAndG91cm5hbWVudFNpZGViYXJDb250cm9sbGVyJyB9XG4gICAgICB9XG4gICAgfSk7XG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi9hcHAnO1xuXG5zaXRlLnNlcnZpY2UoJ0F1dGgnLCAoRmlyZWJhc2VVUkwsIFVzZXJTdGF0dXMsICRzdGF0ZSwgJGZpcmViYXNlQXV0aCwgJGZpcmViYXNlT2JqZWN0KSA9PiB7XG5cbiAgY29uc3QgbG9naW5UeXBlcyA9IFtcbiAgICB7XG4gICAgICBuYW1lOiAnRmFjZWJvb2snLFxuICAgICAgaWNvbjogJ2ZhY2Vib29rJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1R3aXR0ZXInLFxuICAgICAgaWNvbjogJ3R3aXR0ZXInXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnR29vZ2xlJyxcbiAgICAgIGljb246ICdnb29nbGUtcGx1cydcbiAgICB9XG4gIF07XG5cbiAgY29uc3QgYXV0aEJhc2UgPSAkZmlyZWJhc2VBdXRoKG5ldyBGaXJlYmFzZShGaXJlYmFzZVVSTCkpO1xuXG4gIGNvbnN0IGhhbmRsZUF1dGggPSAoYXV0aERhdGEpID0+IHtcbiAgICBjb25zdCBwcm92aWRlciA9IGF1dGhEYXRhLmF1dGgucHJvdmlkZXI7XG4gICAgVXNlclN0YXR1cy5kaXNwbGF5TmFtZSA9IGF1dGhEYXRhW3Byb3ZpZGVyXS5kaXNwbGF5TmFtZTtcbiAgICBVc2VyU3RhdHVzLmxvZ2dlZEluID0gdHJ1ZTtcbiAgICBVc2VyU3RhdHVzLmF1dGhEYXRhID0gYXV0aERhdGE7XG5cbiAgICBVc2VyU3RhdHVzLmZpcmViYXNlID0gJGZpcmViYXNlT2JqZWN0KG5ldyBGaXJlYmFzZShgJHtGaXJlYmFzZVVSTH0vdXNlcnMvJHthdXRoRGF0YS51aWR9YCkpO1xuXG4gICAgVXNlclN0YXR1cy5maXJlYmFzZS4kbG9hZGVkKCgpID0+IHtcbiAgICAgIGlmKCFVc2VyU3RhdHVzLmZpcmViYXNlLnByb3ZpZGVyKSB7XG4gICAgICAgIFVzZXJTdGF0dXMuZmlyZWJhc2UucHJvdmlkZXIgPSBhdXRoRGF0YS5hdXRoLnByb3ZpZGVyO1xuICAgICAgICBVc2VyU3RhdHVzLmZpcmViYXNlLiRzYXZlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmKCFVc2VyU3RhdHVzLmZpcmViYXNlLm5hbWUpIHtcbiAgICAgICAgVXNlclN0YXR1cy5maXJlYmFzZS5uYW1lID0gYXV0aERhdGFbYXV0aERhdGEuYXV0aC5wcm92aWRlcl0uZGlzcGxheU5hbWU7XG4gICAgICAgIFVzZXJTdGF0dXMuZmlyZWJhc2UuJHNhdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhdHRlbXB0QXV0aCA9IGF1dGhCYXNlLiRnZXRBdXRoKCk7XG4gIGlmKGF0dGVtcHRBdXRoKSBoYW5kbGVBdXRoKGF0dGVtcHRBdXRoKTtcblxuICBjb25zdCBkb0xvZ2luID0gKHNlcnZpY2UpID0+IHtcbiAgICBhdXRoQmFzZS4kYXV0aFdpdGhPQXV0aFBvcHVwKHNlcnZpY2UudG9Mb3dlckNhc2UoKSlcbiAgICAgIC50aGVuKChhdXRoRGF0YSkgPT4ge1xuICAgICAgICBoYW5kbGVBdXRoKGF1dGhEYXRhKTtcbiAgICAgICAgJHN0YXRlLmdvKCd1c2VyTWFuYWdlJyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoZW50aWNhdGlvbiBmYWlsZWQnLCBlcnJvcik7XG4gICAgICB9KTtcbiAgfTtcblxuICBjb25zdCBkb0xvZ291dCA9ICgpID0+IHtcbiAgICBhdXRoQmFzZS4kdW5hdXRoKCk7XG4gICAgVXNlclN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlO1xuICAgICRzdGF0ZS5nbygnaG9tZScpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgbG9naW5UeXBlcyxcbiAgICBkb0xvZ2luLFxuICAgIGRvTG9nb3V0XG4gIH07XG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi9hcHAnO1xuXG5zaXRlLnNlcnZpY2UoJ0N1cnJlbnRFdmVudHMnLCAoJGZpcmViYXNlQXJyYXksIEZpcmViYXNlVVJMLCBFbnN1cmVMb2dnZWRJbikgPT4ge1xuICBjb25zdCBhdXRoRGF0YSA9IEVuc3VyZUxvZ2dlZEluLmNoZWNrKCk7XG4gIHJldHVybiAkZmlyZWJhc2VBcnJheShuZXcgRmlyZWJhc2UoYCR7RmlyZWJhc2VVUkx9L3VzZXJzLyR7YXV0aERhdGEudWlkfS9ldmVudHNgKSk7XG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi9hcHAnO1xuXG5zaXRlLnNlcnZpY2UoJ0N1cnJlbnRUb3VybmFtZW50cycsICgkZmlyZWJhc2VBcnJheSwgRmlyZWJhc2VVUkwsIEVuc3VyZUxvZ2dlZEluKSA9PiB7XG4gIGNvbnN0IGF1dGhEYXRhID0gRW5zdXJlTG9nZ2VkSW4uY2hlY2soKTtcbiAgcmV0dXJuICRmaXJlYmFzZUFycmF5KG5ldyBGaXJlYmFzZShgJHtGaXJlYmFzZVVSTH0vdXNlcnMvJHthdXRoRGF0YS51aWR9L3RvdXJuYW1lbnRzYCkpO1xufSk7IiwiaW1wb3J0IHNpdGUgZnJvbSAnLi4vYXBwJztcblxuc2l0ZS5zZXJ2aWNlKCdEaXNjb25uZWN0Tm90aWZpZXInLCAoJHEsIEZpcmViYXNlVVJMKSA9PiB7XG4gIGNvbnN0IGZpcmViYXNlID0gbmV3IEZpcmViYXNlKGAke0ZpcmViYXNlVVJMfS8uaW5mby9jb25uZWN0ZWRgKTtcbiAgY29uc3QgZGVmZXIgPSAkcS5kZWZlcigpO1xuXG4gIGZpcmViYXNlLm9uKCd2YWx1ZScsIChzbmFwKSA9PiB7XG4gICAgZGVmZXIubm90aWZ5KHNuYXAudmFsKCkpO1xuICB9KTtcblxuICByZXR1cm4gZGVmZXIucHJvbWlzZTtcbn0pOyIsImltcG9ydCBzaXRlIGZyb20gJy4uL2FwcCc7XG5cbnNpdGUuc2VydmljZSgnRW5zdXJlTG9nZ2VkSW4nLCAoVXNlclN0YXR1cywgJHN0YXRlKSA9PiB7XG4gIHJldHVybiB7XG4gICAgY2hlY2s6ICgpID0+IHtcbiAgICAgIGlmKFVzZXJTdGF0dXMubG9nZ2VkSW4pIHJldHVybiBVc2VyU3RhdHVzLmF1dGhEYXRhO1xuICAgICAgJHN0YXRlLmdvKCdob21lJyk7XG4gICAgfVxuICB9O1xufSk7IiwiaW1wb3J0IHNpdGUgZnJvbSAnLi4vYXBwJztcblxuc2l0ZS5zZXJ2aWNlKCdFdmVudE1hbmFnZW1lbnQnLCAoRmlyZWJhc2VVUkwsICRtZERpYWxvZywgVG9hc3RlciwgJGZpbHRlciwgRmlsdGVyVXRpbHMpID0+IHtcblxuICBjb25zdCBkZWZhdWx0TWREaWFsb2dPcHRpb25zID0ge1xuICAgIGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ2V2ZW50RGlhbG9nQ29udHJvbGxlcicsXG4gICAgZm9jdXNPbk9wZW46IGZhbHNlLFxuICAgIHRlbXBsYXRlVXJsOiAnL2RpYWxvZy9hZGRldmVudCdcbiAgfTtcblxuICBjb25zdCBhZGRJdGVtID0gKGJyb3dzZXJFdmVudCwgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBtZERpYWxvZ09wdGlvbnMgPSBfLmNsb25lKGRlZmF1bHRNZERpYWxvZ09wdGlvbnMpO1xuICAgIG1kRGlhbG9nT3B0aW9ucy5ldmVudCA9IGJyb3dzZXJFdmVudDtcbiAgICBtZERpYWxvZ09wdGlvbnMubG9jYWxzID0geyB0RXZlbnQ6IHt9IH07XG4gICAgJG1kRGlhbG9nLnNob3cobWREaWFsb2dPcHRpb25zKS50aGVuKGNhbGxiYWNrKTtcbiAgfTtcblxuICBjb25zdCBlZGl0SXRlbSA9IChicm93c2VyRXZlbnQsIHRFdmVudCwgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBtZERpYWxvZ09wdGlvbnMgPSBfLmNsb25lKGRlZmF1bHRNZERpYWxvZ09wdGlvbnMpO1xuICAgIG1kRGlhbG9nT3B0aW9ucy5ldmVudCA9IGJyb3dzZXJFdmVudDtcbiAgICBtZERpYWxvZ09wdGlvbnMubG9jYWxzID0geyB0RXZlbnQgfTtcbiAgICAkbWREaWFsb2cuc2hvdyhtZERpYWxvZ09wdGlvbnMpLnRoZW4oY2FsbGJhY2spO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZUl0ZW0gPSAoYnJvd3NlckV2ZW50LCB0RXZlbnRzLCBjYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IGRpYWxvZyA9ICRtZERpYWxvZy5jb25maXJtKClcbiAgICAgIC50YXJnZXRFdmVudChicm93c2VyRXZlbnQpXG4gICAgICAudGl0bGUoJ1JlbW92ZSBFdmVudCcpXG4gICAgICAuY29udGVudChgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlbW92ZSAke3RFdmVudHMubGVuZ3RofSBldmVudHM/YClcbiAgICAgIC5vaygnT0snKVxuICAgICAgLmNhbmNlbCgnQ2FuY2VsJyk7XG5cbiAgICAkbWREaWFsb2cuc2hvdyhkaWFsb2cpLnRoZW4oKCkgPT4ge1xuICAgICAgVG9hc3Rlci5zaG93KGBTdWNjZXNzZnVsbHkgcmVtb3ZlZCAke3RFdmVudHMubGVuZ3RofSBldmVudHMuYCk7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGFyY2hpdmVJdGVtID0gKGJyb3dzZXJFdmVudCwgdEV2ZW50cywgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBzdHJpbmcgPSBfLmFueSh0RXZlbnRzLCAnYXJjaGl2ZWQnKSA/ICd1bmFyY2hpdmVkJyA6ICdhcmNoaXZlZCc7XG4gICAgVG9hc3Rlci5zaG93KGBTdWNjZXNzZnVsbHkgJHtzdHJpbmd9ICR7dEV2ZW50cy5sZW5ndGh9IGV2ZW50cy5gKTtcbiAgICBjYWxsYmFjaygpO1xuICB9O1xuXG4gIGNvbnN0IGZpbHRlckV2ZW50cyA9IChldmVudHMsIGRhdGF0YWJsZSwgYXJjaGl2ZWQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IGZ1bmMgPSBhcmNoaXZlZCA/ICdmaWx0ZXInIDogJ3JlamVjdCc7XG4gICAgcmV0dXJuIF9bZnVuY10oRmlsdGVyVXRpbHMuZmlsdGVyVGFibGUoZXZlbnRzLCBkYXRhdGFibGUsIGV2ZW50ID0+IFtcbiAgICAgIFtldmVudC5uYW1lLnRvTG93ZXJDYXNlKCldLFxuICAgICAgWyhldmVudC5kZXNjcmlwdGlvbiB8fCAnJykudG9Mb3dlckNhc2UoKV0sXG4gICAgICBbZXZlbnQubG9jYXRpb24udG9Mb3dlckNhc2UoKV0sXG4gICAgICBbJGZpbHRlcignZGF0ZScpKGV2ZW50LmRhdGUsICdmdWxsRGF0ZScpLnRvTG93ZXJDYXNlKCldXG4gICAgXSksICdhcmNoaXZlZCcpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYWRkSXRlbSxcbiAgICBlZGl0SXRlbSxcbiAgICByZW1vdmVJdGVtLFxuICAgIGFyY2hpdmVJdGVtLFxuICAgIGZpbHRlckV2ZW50c1xuICB9O1xufSk7IiwiaW1wb3J0IHNpdGUgZnJvbSAnLi4vYXBwJztcblxuc2l0ZS5zZXJ2aWNlKCdGaWx0ZXJVdGlscycsICgpID0+IHtcblxuICBjb25zdCBmaWx0ZXJCeUNvbnRhaW5zID0gKGFycmF5LCBjb250YWlucykgPT4gXy5maWx0ZXIoYXJyYXksIChzdHIpID0+IF8uY29udGFpbnMoc3RyLnRvTG93ZXJDYXNlKCksIGNvbnRhaW5zLnRvTG93ZXJDYXNlKCkpKTtcbiAgY29uc3QgZ2V0VW5pcXVlS2V5cyA9IChhcnJheSwga2V5KSA9PiBfLmNvbXBhY3QoXy51bmlxKF8uZmxhdHRlbihbXy5wbHVjayhhcnJheSwga2V5KV0sIHRydWUpKSk7XG4gIGNvbnN0IGdldEFuZEZpbHRlciA9IChhcnJheSwga2V5LCBzZWFyY2ggPSAnJykgPT4gZmlsdGVyQnlDb250YWlucyhnZXRVbmlxdWVLZXlzKGFycmF5LCBrZXkpLCBzZWFyY2gpO1xuXG4gIC8vIGdldCBhIGZpbHRlciBhcnJheSBmb3IgdXNlciBpZiB0aGV5IGV4aXN0XG4gIGNvbnN0IGdldEZpbHRlckFyciA9ICh1c2VyLCBhcnIpID0+IHVzZXJbYXJyXSA/IF8ubWFwKHVzZXJbYXJyXSwgKHMpID0+IHMudG9Mb3dlckNhc2UoKSkgOiBbXTtcblxuICAvLyBjaGVjayBpZiBhbnl0aGluZyBpbiB0aGUgcmlnaHQgaXMgYSBzdWJzdHJpbmcgaW4gdGhlIGxlZnRcbiAgY29uc3QgY29udGFpbnNBbnkgPSAobGVmdCwgcmlnaHQpID0+IF8uc29tZShyaWdodCwgKGZpbHRlcktleSkgPT4gXy5zb21lKGxlZnQsIChzdHJpbmcpID0+IF8uY29udGFpbnMoc3RyaW5nLCBmaWx0ZXJLZXkpKSk7XG5cbiAgY29uc3QgZmlsdGVyVGFibGUgPSAoYXJyYXksIGRhdGF0YWJsZSwgY3JpdGVyaW9uID0gKCkgPT4gW10pID0+IHtcblxuICAgIC8vIGFsbG93IG11bHRpcGxlIGZpbHRlcnMgc2VwYXJhdGVkIGJ5IGEgY29tbWFcbiAgICBjb25zdCBmaWx0ZXJBcnIgPSBfLmNvbXBhY3QoXy5tYXAoZGF0YXRhYmxlLmZpbHRlci50b0xvd2VyQ2FzZSgpLnNwbGl0KCcsJyksIChtKSA9PiBtLnRyaW0oKSkpO1xuXG4gICAgLy8gcGFnaW5hdGlvbiBhbmQgc3R1ZmZcbiAgICBjb25zdCBzdGFydEluZGV4ID0gZGF0YXRhYmxlLmxpbWl0ICogKGRhdGF0YWJsZS5wYWdlLTEpO1xuICAgIGNvbnN0IGVuZEluZGV4ID0gc3RhcnRJbmRleCArIGRhdGF0YWJsZS5saW1pdDtcbiAgICBjb25zdCBkb1JldmVyc2UgPSBkYXRhdGFibGUub3JkZXIuY2hhckF0KDApID09PSAnLSc7XG4gICAgbGV0IG9yZGVyID0gZGF0YXRhYmxlLm9yZGVyO1xuXG4gICAgaWYoZG9SZXZlcnNlKSB7XG4gICAgICBvcmRlciA9IG9yZGVyLnN1YnN0cmluZygxKTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWx0ZXJlZCA9IF8oYXJyYXkpXG4gICAgICAuZmlsdGVyKHVzZXIgPT4ge1xuXG4gICAgICAgIC8vIG9ubHkgc2hvdyBwZW9wbGUgdGhhdCBtYXRjaCBhbGwgY3JpdGVyaWFcbiAgICAgICAgcmV0dXJuIGZpbHRlckFyci5sZW5ndGggPT09IDAgPyB0cnVlIDogXy5yZWR1Y2UoXG4gICAgICAgICAgXy5tYXAoY3JpdGVyaW9uKHVzZXIpLCAoY3JpdGVyaWEpID0+IGNvbnRhaW5zQW55KGNyaXRlcmlhLCBmaWx0ZXJBcnIpKSxcbiAgICAgICAgICAocHJldiwgY3VyKSA9PiBwcmV2ICsgfn5jdXIsXG4gICAgICAgICAgMFxuICAgICAgICApID49IGZpbHRlckFyci5sZW5ndGg7XG4gICAgICB9KVxuICAgICAgLnNvcnRCeU9yZGVyKFtvcmRlcl0sIFtkb1JldmVyc2UgPyAnYXNjJyA6ICdkZXNjJ10pXG4gICAgICAuc2xpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXgpXG4gICAgICAudmFsdWUoKTtcblxuICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGNvbnRhaW5zQW55LFxuICAgIGdldEZpbHRlckFycixcbiAgICBnZXRVbmlxdWVLZXlzLFxuICAgIGdldEFuZEZpbHRlcixcbiAgICBmaWx0ZXJCeUNvbnRhaW5zLFxuICAgIGZpbHRlclRhYmxlXG4gIH07XG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi9hcHAnO1xuXG5zaXRlLnNlcnZpY2UoJ0lucHV0UHJvbXB0JywgKCRtZERpYWxvZykgPT4ge1xuICByZXR1cm4ge1xuICAgIHNob3c6IChldmVudCwgb3B0cyA9IHt9LCBjYWxsYmFjaykgPT4ge1xuICAgICAgY29uc3QgbG9jYWxzID0gXy5leHRlbmQoeyBuYW1lOiAnRW50ZXIgZGF0YScsIGRlZmF1bHRWYWx1ZTogJycsIGxhYmVsOiAnRGF0YScsIGludmFsaWRWYWx1ZXM6IFtdIH0sIG9wdHMpO1xuXG4gICAgICBjb25zdCBtZERpYWxvZ09wdGlvbnMgPSB7XG4gICAgICAgIGV2ZW50LCBsb2NhbHMsXG4gICAgICAgIGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWUsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdpbnB1dFByb21wdENvbnRyb2xsZXInLFxuICAgICAgICBmb2N1c09uT3BlbjogZmFsc2UsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpYWxvZy9pbnB1dC1wcm9tcHQnXG4gICAgICB9O1xuXG4gICAgICAkbWREaWFsb2cuc2hvdyhtZERpYWxvZ09wdGlvbnMpLnRoZW4oY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcbn0pOyIsImltcG9ydCBzaXRlIGZyb20gJy4uL2FwcCc7XG5cbnNpdGUuc2VydmljZSgnU2VsZWN0UHJvbXB0JywgKCRtZERpYWxvZykgPT4ge1xuICByZXR1cm4ge1xuICAgIHNob3c6IChldmVudCwgb3B0cyA9IHt9LCBjYWxsYmFjaykgPT4ge1xuICAgICAgY29uc3QgbG9jYWxzID0gXy5leHRlbmQoeyBuYW1lOiAnRW50ZXIgZGF0YScsIGRlZmF1bHRWYWx1ZTogJycsIGxhYmVsOiAnRGF0YScsIHNlbGVjdGFibGVWYWx1ZXM6IFtdIH0sIG9wdHMpO1xuXG4gICAgICBjb25zdCBtZERpYWxvZ09wdGlvbnMgPSB7XG4gICAgICAgIGV2ZW50LCBsb2NhbHMsXG4gICAgICAgIGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWUsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdzZWxlY3RQcm9tcHRDb250cm9sbGVyJyxcbiAgICAgICAgZm9jdXNPbk9wZW46IGZhbHNlLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9kaWFsb2cvc2VsZWN0LXByb21wdCdcbiAgICAgIH07XG5cbiAgICAgICRtZERpYWxvZy5zaG93KG1kRGlhbG9nT3B0aW9ucykudGhlbihjYWxsYmFjayk7XG4gICAgfVxuICB9O1xufSk7IiwiaW1wb3J0IHNpdGUgZnJvbSAnLi4vYXBwJztcblxuc2l0ZS5zZXJ2aWNlKCdTZXRNYW5hZ2VtZW50JywgKEZpcmViYXNlVVJMLCAkbWREaWFsb2csIElucHV0UHJvbXB0LCBTZWxlY3RQcm9tcHQsIFNoYXJlUHJvbXB0LCBUb2FzdGVyKSA9PiB7XG5cbiAgY29uc3QgbmV3U2V0ID0gKGV2ZW50LCBpbnZhbGlkVmFsdWVzLCBjYWxsYmFjaykgPT4ge1xuICAgIElucHV0UHJvbXB0LnNob3coZXZlbnQsIHtcbiAgICAgIHRpdGxlOiAnQWRkIG5ldyBwbGF5ZXIgc2V0JyxcbiAgICAgIGxhYmVsOiAnUGxheWVyIHNldCBuYW1lJyxcbiAgICAgIGludmFsaWRWYWx1ZXNcbiAgICB9LCAoc3RyaW5nKSA9PiB7XG4gICAgICBUb2FzdGVyLnNob3coYFN1Y2Nlc3NmdWxseSBhZGRlZCBuZXcgcGxheWVyIHNldCBcIiR7c3RyaW5nfVwiYCk7XG4gICAgICBjYWxsYmFjayhzdHJpbmcpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHJlbmFtZVNldCA9IChldmVudCwgZGVmYXVsdE5hbWUsIGNhbGxiYWNrKSA9PiB7XG4gICAgSW5wdXRQcm9tcHQuc2hvdyhldmVudCwge1xuICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0TmFtZSxcbiAgICAgIHRpdGxlOiAnUmVuYW1lIHRoaXMgcGxheWVyIHNldCcsXG4gICAgICBsYWJlbDogJ1BsYXllciBzZXQgbmFtZSdcbiAgICB9LCAoc3RyaW5nKSA9PiB7XG4gICAgICBUb2FzdGVyLnNob3coYFN1Y2Nlc3NmdWxseSByZW5hbWVkIHBsYXllciBzZXQgdG8gXCIke3N0cmluZ31cImApO1xuICAgICAgY2FsbGJhY2soc3RyaW5nKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBjaGFuZ2VTZXQgPSAoZXZlbnQsIGN1cnJlbnQsIGNob2ljZXMsIGNhbGxiYWNrKSA9PiB7XG4gICAgU2VsZWN0UHJvbXB0LnNob3coZXZlbnQsIHtcbiAgICAgIGRlZmF1bHRWYWx1ZTogY3VycmVudCxcbiAgICAgIHNlbGVjdGFibGVWYWx1ZXM6IGNob2ljZXMsXG4gICAgICB0aXRsZTogJ0Nob29zZSBhIHBsYXllciBzZXQnLFxuICAgICAgbGFiZWw6ICdQbGF5ZXIgc2V0J1xuICAgIH0sIChzdHJpbmcpID0+IHtcbiAgICAgIFRvYXN0ZXIuc2hvdyhgU3VjY2Vzc2Z1bGx5IGNoYW5nZWQgcGxheWVyIHNldCB0byBcIiR7c3RyaW5nfVwiYCk7XG4gICAgICBjYWxsYmFjayhzdHJpbmcpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGRlbGV0ZVNldCA9IChldmVudCwgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBkaWFsb2cgPSAkbWREaWFsb2cuY29uZmlybSgpXG4gICAgICAudGFyZ2V0RXZlbnQoZXZlbnQpXG4gICAgICAudGl0bGUoJ1JlbW92ZSBQbGF5ZXInKVxuICAgICAgLmNvbnRlbnQoYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhpcyBwbGF5ZXIgc2V0P2ApXG4gICAgICAub2soJ09LJylcbiAgICAgIC5jYW5jZWwoJ0NhbmNlbCcpO1xuXG4gICAgJG1kRGlhbG9nLnNob3coZGlhbG9nKS50aGVuKCgpID0+IHtcbiAgICAgIFRvYXN0ZXIuc2hvdyhgU3VjY2Vzc2Z1bGx5IHJlbW92ZWQgcGxheWVyIHNldC5gKTtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgc2hhcmVTZXQgPSAoZXZlbnQsIGRvY05hbWUsIGRlZmF1bHRTaGFyZWQsIGNhbGxiYWNrKSA9PiB7XG4gICAgU2hhcmVQcm9tcHQuc2hvdyhldmVudCwge1xuICAgICAgdGl0bGU6IGRvY05hbWUsXG4gICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRTaGFyZWQgfHwgW11cbiAgICB9LCAoZGF0YSkgPT4ge1xuICAgICAgVG9hc3Rlci5zaG93KGBTdWNjZXNzZnVsbHkgdXBkYXRlZCBzaGFyZSBzZXR0aW5nc2ApO1xuICAgICAgY2FsbGJhY2soZGF0YSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBuZXdTZXQsXG4gICAgcmVuYW1lU2V0LFxuICAgIGRlbGV0ZVNldCxcbiAgICBzaGFyZVNldCxcbiAgICBjaGFuZ2VTZXRcbiAgfTtcbn0pOyIsImltcG9ydCBzaXRlIGZyb20gJy4uL2FwcCc7XG5cbnNpdGUuc2VydmljZSgnU2hhcmVNYW5hZ2VtZW50JywgKFVzZXJTdGF0dXMsIEZpcmViYXNlVVJMLCAkZmlyZWJhc2VBcnJheSkgPT4ge1xuXG4gIGNvbnN0IG1lID0gVXNlclN0YXR1cy5hdXRoRGF0YS51aWQ7XG5cbiAgY29uc3QgbWFuYWdlU29ydGluZyA9IChvbGRTb3J0c1BsdWNrZWQsIG5ld1NvcnRzLCBkb2NJZCkgPT4ge1xuICAgIGNvbnN0IG5ld1NvcnRzUGx1Y2tlZCA9IF8ucGx1Y2sobmV3U29ydHMsICd1aWQnKTtcbiAgICBjb25zdCByZW1vdmFscyA9IF8uZGlmZmVyZW5jZShvbGRTb3J0c1BsdWNrZWQsIG5ld1NvcnRzUGx1Y2tlZCk7XG4gICAgY29uc3QgYWRkaXRpb25zID0gXy5kaWZmZXJlbmNlKG5ld1NvcnRzUGx1Y2tlZCwgb2xkU29ydHNQbHVja2VkKTtcblxuICAgIGlmKHJlbW92YWxzLmxlbmd0aCA9PT0gMCAmJiBhZGRpdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICBfLmVhY2goYWRkaXRpb25zLCBhZGQgPT4ge1xuICAgICAgY29uc3Qgc2hhcmViYXNlID0gJGZpcmViYXNlQXJyYXkobmV3IEZpcmViYXNlKGAke0ZpcmViYXNlVVJMfS9zaGFyZXMvJHthZGR9LyR7bWV9YCkpO1xuICAgICAgc2hhcmViYXNlLiRsb2FkZWQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgc2hhcmViYXNlLiRhZGQoZG9jSWQpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfLmVhY2gocmVtb3ZhbHMsIHJlbSA9PiB7XG4gICAgICBjb25zdCBzaGFyZWJhc2UgPSAkZmlyZWJhc2VBcnJheShuZXcgRmlyZWJhc2UoYCR7RmlyZWJhc2VVUkx9L3NoYXJlcy8ke3JlbX0vJHttZX1gKSk7XG4gICAgICBzaGFyZWJhc2UuJGxvYWRlZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gXy5maW5kV2hlcmUoc2hhcmViYXNlLCB7ICR2YWx1ZTogZG9jSWQgfSk7XG4gICAgICAgIHNoYXJlYmFzZS4kcmVtb3ZlKHNoYXJlYmFzZS4kaW5kZXhGb3IoaXRlbS4kaWQpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgbWFuYWdlU29ydGluZ1xuICB9O1xuXG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi9hcHAnO1xuXG5zaXRlLnNlcnZpY2UoJ1NoYXJlUHJvbXB0JywgKCRtZERpYWxvZykgPT4ge1xuICByZXR1cm4ge1xuICAgIHNob3c6IChldmVudCwgb3B0cyA9IHt9LCBjYWxsYmFjaykgPT4ge1xuICAgICAgY29uc3QgbG9jYWxzID0gXy5leHRlbmQoeyAgZGVmYXVsdFZhbHVlOiBbXSwgIHRpdGxlOiAnJyB9LCBvcHRzKTtcblxuICAgICAgY29uc3QgbWREaWFsb2dPcHRpb25zID0ge1xuICAgICAgICBldmVudCwgbG9jYWxzLFxuICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgICBjb250cm9sbGVyOiAnc2hhcmVQcm9tcHRDb250cm9sbGVyJyxcbiAgICAgICAgZm9jdXNPbk9wZW46IGZhbHNlLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9kaWFsb2cvc2hhcmUtcHJvbXB0J1xuICAgICAgfTtcblxuICAgICAgJG1kRGlhbG9nLnNob3cobWREaWFsb2dPcHRpb25zKS50aGVuKGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi9hcHAnO1xuXG5zaXRlLnNlcnZpY2UoJ1NpZGViYXJNYW5hZ2VtZW50JywgKCkgPT4ge1xuICByZXR1cm4ge1xuICAgIGhhc1NpZGViYXI6IGZhbHNlXG4gIH07XG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi9hcHAnO1xuXG5zaXRlLnNlcnZpY2UoJ1RvYXN0ZXInLCAoJG1kVG9hc3QpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBzaG93OiAoc3RyaW5nKSA9PiB7XG4gICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpXG4gICAgICAgIC5jb250ZW50KHN0cmluZylcbiAgICAgICAgLmFjdGlvbignT0snKVxuICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpKTtcbiAgICB9XG4gIH07XG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi9hcHAnO1xuXG5zaXRlLnNlcnZpY2UoJ1RvdXJuYW1lbnRNYW5hZ2VtZW50JywgKEZpcmViYXNlVVJMLCAkbWREaWFsb2csIFRvYXN0ZXIsICRmaWx0ZXIsIEZpbHRlclV0aWxzLCBDdXJyZW50RXZlbnRzKSA9PiB7XG5cbiAgY29uc3QgZGVmYXVsdE1kRGlhbG9nT3B0aW9ucyA9IHtcbiAgICBjbGlja091dHNpZGVUb0Nsb3NlOiB0cnVlLFxuICAgIGNvbnRyb2xsZXI6ICd0b3VybmFtZW50RGlhbG9nQ29udHJvbGxlcicsXG4gICAgZm9jdXNPbk9wZW46IGZhbHNlLFxuICAgIHRlbXBsYXRlVXJsOiAnL2RpYWxvZy9hZGR0b3VybmFtZW50J1xuICB9O1xuXG4gIGNvbnN0IGFkZEl0ZW0gPSAoYnJvd3NlckV2ZW50LCBjYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IG1kRGlhbG9nT3B0aW9ucyA9IF8uY2xvbmUoZGVmYXVsdE1kRGlhbG9nT3B0aW9ucyk7XG4gICAgbWREaWFsb2dPcHRpb25zLmV2ZW50ID0gYnJvd3NlckV2ZW50O1xuICAgIG1kRGlhbG9nT3B0aW9ucy5sb2NhbHMgPSB7IHRvdXJuYW1lbnQ6IHt9IH07XG4gICAgJG1kRGlhbG9nLnNob3cobWREaWFsb2dPcHRpb25zKS50aGVuKGNhbGxiYWNrKTtcbiAgfTtcblxuICBjb25zdCBlZGl0SXRlbSA9IChicm93c2VyRXZlbnQsIHRvdXJuYW1lbnQsIGNhbGxiYWNrKSA9PiB7XG4gICAgY29uc3QgbWREaWFsb2dPcHRpb25zID0gXy5jbG9uZShkZWZhdWx0TWREaWFsb2dPcHRpb25zKTtcbiAgICBtZERpYWxvZ09wdGlvbnMuZXZlbnQgPSBicm93c2VyRXZlbnQ7XG4gICAgbWREaWFsb2dPcHRpb25zLmxvY2FscyA9IHsgdG91cm5hbWVudCB9O1xuICAgICRtZERpYWxvZy5zaG93KG1kRGlhbG9nT3B0aW9ucykudGhlbihjYWxsYmFjayk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlSXRlbSA9IChicm93c2VyRXZlbnQsIHRFdmVudHMsIGNhbGxiYWNrKSA9PiB7XG4gICAgY29uc3QgZGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxuICAgICAgLnRhcmdldEV2ZW50KGJyb3dzZXJFdmVudClcbiAgICAgIC50aXRsZSgnUmVtb3ZlIEV2ZW50JylcbiAgICAgIC5jb250ZW50KGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlICR7dEV2ZW50cy5sZW5ndGh9IHRvdXJuYW1lbnRzP2ApXG4gICAgICAub2soJ09LJylcbiAgICAgIC5jYW5jZWwoJ0NhbmNlbCcpO1xuXG4gICAgJG1kRGlhbG9nLnNob3coZGlhbG9nKS50aGVuKCgpID0+IHtcbiAgICAgIFRvYXN0ZXIuc2hvdyhgU3VjY2Vzc2Z1bGx5IHJlbW92ZWQgJHt0RXZlbnRzLmxlbmd0aH0gdG91cm5hbWVudHMuYCk7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGFyY2hpdmVJdGVtID0gKGJyb3dzZXJFdmVudCwgdEV2ZW50cywgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBzdHJpbmcgPSBfLmFueSh0RXZlbnRzLCAnYXJjaGl2ZWQnKSA/ICd1bmFyY2hpdmVkJyA6ICdhcmNoaXZlZCc7XG4gICAgVG9hc3Rlci5zaG93KGBTdWNjZXNzZnVsbHkgJHtzdHJpbmd9ICR7dEV2ZW50cy5sZW5ndGh9IHRvdXJuYW1lbnRzLmApO1xuICAgIGNhbGxiYWNrKCk7XG4gIH07XG5cbiAgY29uc3QgZ2V0VG91cm5hbWVudE5hbWVGcm9tSWQgPSAoaWQpID0+IF8uZmluZFdoZXJlKEN1cnJlbnRFdmVudHMsIHsgJGlkOiBpZCB9KS5uYW1lO1xuXG4gIGNvbnN0IGZpbHRlclRvdXJuYW1lbnRzID0gKGV2ZW50cywgZGF0YXRhYmxlLCBhcmNoaXZlZCA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3QgZnVuYyA9IGFyY2hpdmVkID8gJ2ZpbHRlcicgOiAncmVqZWN0JztcbiAgICByZXR1cm4gX1tmdW5jXShGaWx0ZXJVdGlscy5maWx0ZXJUYWJsZShldmVudHMsIGRhdGF0YWJsZSwgdG91cm5hbWVudCA9PiBbXG4gICAgICBbdG91cm5hbWVudC5uYW1lLnRvTG93ZXJDYXNlKCldLFxuICAgICAgW3RvdXJuYW1lbnQuZ2FtZS50b0xvd2VyQ2FzZSgpXSxcbiAgICAgIFtnZXRUb3VybmFtZW50TmFtZUZyb21JZCh0b3VybmFtZW50LmV2ZW50KS50b0xvd2VyQ2FzZSgpXVxuICAgIF0pLCAnYXJjaGl2ZWQnKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGFkZEl0ZW0sXG4gICAgZWRpdEl0ZW0sXG4gICAgcmVtb3ZlSXRlbSxcbiAgICBhcmNoaXZlSXRlbSxcbiAgICBmaWx0ZXJUb3VybmFtZW50cyxcbiAgICBnZXRUb3VybmFtZW50TmFtZUZyb21JZFxuICB9O1xufSk7IiwiaW1wb3J0IHNpdGUgZnJvbSAnLi4vYXBwJztcblxuc2l0ZS5zZXJ2aWNlKCdVc2VyTWFuYWdlbWVudCcsIChGaXJlYmFzZVVSTCwgJG1kRGlhbG9nLCBUb2FzdGVyLCBGaWx0ZXJVdGlscykgPT4ge1xuXG4gIGNvbnN0IGRlZmF1bHRNZERpYWxvZ09wdGlvbnMgPSB7XG4gICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAndXNlckRpYWxvZ0NvbnRyb2xsZXInLFxuICAgIGZvY3VzT25PcGVuOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZVVybDogJy9kaWFsb2cvYWRkdXNlcidcbiAgfTtcblxuICBjb25zdCBhZGRJdGVtID0gKGV2ZW50LCBjYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IG1kRGlhbG9nT3B0aW9ucyA9IF8uY2xvbmUoZGVmYXVsdE1kRGlhbG9nT3B0aW9ucyk7XG4gICAgbWREaWFsb2dPcHRpb25zLmV2ZW50ID0gZXZlbnQ7XG4gICAgbWREaWFsb2dPcHRpb25zLmxvY2FscyA9IHsgcGxheWVyOiB7fSwgdmlld09ubHk6IGZhbHNlIH07XG4gICAgJG1kRGlhbG9nLnNob3cobWREaWFsb2dPcHRpb25zKS50aGVuKGNhbGxiYWNrKTtcbiAgfTtcblxuICBjb25zdCBlZGl0SXRlbSA9IChldmVudCwgcGxheWVyLCBjYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IG1kRGlhbG9nT3B0aW9ucyA9IF8uY2xvbmUoZGVmYXVsdE1kRGlhbG9nT3B0aW9ucyk7XG4gICAgbWREaWFsb2dPcHRpb25zLmV2ZW50ID0gZXZlbnQ7XG4gICAgbWREaWFsb2dPcHRpb25zLmxvY2FscyA9IHsgcGxheWVyLCB2aWV3T25seTogZmFsc2UgfTtcbiAgICAkbWREaWFsb2cuc2hvdyhtZERpYWxvZ09wdGlvbnMpLnRoZW4oY2FsbGJhY2spO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZUl0ZW0gPSAoZXZlbnQsIHBsYXllcnMsIGNhbGxiYWNrKSA9PiB7XG4gICAgY29uc3QgZGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxuICAgICAgLnRhcmdldEV2ZW50KGV2ZW50KVxuICAgICAgLnRpdGxlKCdSZW1vdmUgUGxheWVyJylcbiAgICAgIC5jb250ZW50KGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlICR7cGxheWVycy5sZW5ndGh9IHBsYXllcnM/YClcbiAgICAgIC5vaygnT0snKVxuICAgICAgLmNhbmNlbCgnQ2FuY2VsJyk7XG5cbiAgICAkbWREaWFsb2cuc2hvdyhkaWFsb2cpLnRoZW4oKCkgPT4ge1xuICAgICAgVG9hc3Rlci5zaG93KGBTdWNjZXNzZnVsbHkgcmVtb3ZlZCAke3BsYXllcnMubGVuZ3RofSBwbGF5ZXJzLmApO1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCB2aWV3SXRlbSA9IChldmVudCwgcGxheWVyKSA9PiB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgbWREaWFsb2dPcHRpb25zID0gXy5jbG9uZShkZWZhdWx0TWREaWFsb2dPcHRpb25zKTtcbiAgICBtZERpYWxvZ09wdGlvbnMuZXZlbnQgPSBldmVudDtcbiAgICBtZERpYWxvZ09wdGlvbnMubG9jYWxzID0geyBwbGF5ZXIsIHZpZXdPbmx5OiB0cnVlIH07XG4gICAgJG1kRGlhbG9nLnNob3cobWREaWFsb2dPcHRpb25zKTtcbiAgfTtcblxuICBjb25zdCBmaWx0ZXJVc2VycyA9ICh1c2VycywgZGF0YXRhYmxlKSA9PiB7XG4gICAgcmV0dXJuIEZpbHRlclV0aWxzLmZpbHRlclRhYmxlKHVzZXJzLCBkYXRhdGFibGUsIHVzZXIgPT4gW1xuICAgICAgW3VzZXIubmFtZS50b0xvd2VyQ2FzZSgpXSxcbiAgICAgIFt1c2VyLmxvY2F0aW9uLnRvTG93ZXJDYXNlKCldLFxuICAgICAgRmlsdGVyVXRpbHMuZ2V0RmlsdGVyQXJyKHVzZXIsICdhbGlhc2VzJyksXG4gICAgICBGaWx0ZXJVdGlscy5nZXRGaWx0ZXJBcnIodXNlciwgJ2dhbWVzJyksXG4gICAgICBGaWx0ZXJVdGlscy5nZXRGaWx0ZXJBcnIodXNlciwgJ2NoYXJhY3RlcnMnKVxuICAgIF0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYWRkSXRlbSxcbiAgICBlZGl0SXRlbSxcbiAgICByZW1vdmVJdGVtLFxuICAgIHZpZXdJdGVtLFxuICAgIGZpbHRlclVzZXJzXG4gIH07XG59KTsiLCJpbXBvcnQgc2l0ZSBmcm9tICcuLi9hcHAnO1xuXG5zaXRlLnNlcnZpY2UoJ1VzZXJTdGF0dXMnLCAoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgbG9nZ2VkSW46IGZhbHNlLFxuICAgIGRpc3BsYXlOYW1lOiAnJ1xuICB9O1xufSk7Il19
